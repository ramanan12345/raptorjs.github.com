<optimizer-config>
    
    <profile enabled="${publish}">
        <!-- Always set singlePage to false if publishing -->
        <params>
            <singlePage>false</singlePage>
        </params>
    </profile>
    
    <params file="local-properties.json"/>
    <params>
        <profile>development</profile>
        <publish>false</publish>
    </params>

    
    
    
    
    <params>
        <singlePage>false</singlePage>
    </params>
    
    <enable-profile>${profile}</enable-profile>
    
    <profile name="development">
        
    
        <raptor-config>
        {
            logging: {
                loggers: {
                    'ROOT': {level: 'WARN'}
                }
            }
        }
        </raptor-config>
        <enabled-extensions>jquery,browser,logging.console,development</enabled-extensions>
        <bundling-enabled>false</bundling-enabled>
        <in-place-deployment-enabled>true</in-place-deployment-enabled>
        <minify-js>false</minify-js>
        <checksums-enabled>false</checksums-enabled>
<!--         <write-html-includes>true</write-html-includes> -->
<!--         <watch-files-enabled>true</watch-files-enabled> -->
<!--         <watch> -->
<!--             <dir path="../lib/components" recursive="true" filenamePatterns="*.js,*.rhtml,*.rtld"/> -->
<!--             <dir path="components" recursive="true" filenamePatterns="*.js,*.rhtml,*.rtld"/> -->
<!--         </watch> -->

        
    </profile>
    
    <profile name="production">
        <params>
            <singlePage>false</singlePage>
        </params>
        
        <checksums-enabled>true</checksums-enabled>
        <enabled-extensions>jquery,browser,production</enabled-extensions>
        <bundling-enabled>true</bundling-enabled>
        <in-place-deployment-enabled>false</in-place-deployment-enabled>
        <minify-js>true</minify-js>
<!--         <js-url-prefix>//cdn-ebay.com/static/bundles/js/</js-url-prefix> -->
<!--         <css-url-prefix>//cdn-ebay.com/static/bundles/css/</css-url-prefix> -->
        <raptor-config>
        {
        }
        </raptor-config>
        <watch-config-enabled>false</watch-config-enabled>
    </profile>
    
    <page-search-path>
        <dir path="pages"/>
    </page-search-path>
    
    <profile enabled="${singlePage}">
        <page-search-path reset="true">
            <dir path="pages${singlePage}" base-path="pages" recursive="false"/>
        </page-search-path>
    </profile>
   
    <resource-search-path>
        <dir path="."/>
        <dir path="../shared"/>
        <dir path="modules"/>
    </resource-search-path>
    
    <inject-html-includes>
        <enabled>true</enabled>
        <keep-html-markers>false</keep-html-markers>
        <modify-pages>false</modify-pages> <!-- Don't modify the original HTML pages and instead copy them to page output directory -->
    </inject-html-includes>
    
    

    <clean-dirs>
        <dir path="../static"/>
    </clean-dirs>
    
<!--     <js-output-dir>dist/bundles</js-output-dir> -->
<!--     <css-output-dir>dist/bundles</css-output-dir> -->
    <bundles-output-dir>../static</bundles-output-dir>
    <page-output-dir>..</page-output-dir>

    <bundles name="default">

        <bundle name="jquery">
            <module name="jQuery" recursive="true"/>
        </bundle>
        <bundle name="core">
            <module name="core" recursive="true"/>
            <init-raptor/>
            <module name="listeners" recursive="true"/>
        </bundle>
        <bundle name="widgets">
            <module name="widgets" recursive="true"/>
        </bundle>
        <bundle name="bootstrap">
            <module name="components/icons/Icon"/>
            <module name="Bootstrap/reset" recursive="true"/>
            <module name="Bootstrap/scaffolding" recursive="true"/>
            <module name="Bootstrap/layouts" recursive="true"/>
            <module name="Bootstrap/type" recursive="true"/>
            <module name="Bootstrap/dropdowns" recursive="true"/>
            
            <module name="Bootstrap/buttons" recursive="true"/>
            <module name="Bootstrap/button-groups" recursive="true"/>
            
            <module name="Bootstrap/navs" recursive="true"/>
            <module name="Bootstrap/navbar" recursive="true"/>
        </bundle>
        <bundle name="code-editor">
            <module name="components/editors/CodeEditor" recursive="true"/>
            <module name="components/editors/CodeEditor/mode-javascript" recursive="true"/>
            <module name="components/editors/CodeEditor/mode-htmlmixed" recursive="true"/>
            <module name="components/editors/CodeEditor/mode-xml" recursive="true"/>
        </bundle>
        
        <bundle name="templating">
            <module name="templating" recursive="true"/>
        </bundle>
        
        <bundle name="templating-compiler">
            <module name="templating.compiler" recursive="true"/>
        </bundle>
    </bundles>
    
</optimizer-config>