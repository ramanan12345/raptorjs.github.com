 <!doctype html> <html><head><title>RaptorJS: Raptor Templates</title><meta http-equiv="content-type" content="text/html; charset=UTF-8"/><link rel="stylesheet" type="text/css" href="../static/FontAwesome-font-awesome.less.css" />
<link rel="stylesheet" type="text/css" href="../static/Bootstrap-bootstrap-less-reset.less.css" />
<link rel="stylesheet" type="text/css" href="../static/Bootstrap-bootstrap-less-scaffolding.less.css" />
<link rel="stylesheet" type="text/css" href="../static/Bootstrap-bootstrap-less-util.less.css" />
<link rel="stylesheet" type="text/css" href="../static/Bootstrap-bootstrap-less-layouts.less.css" />
<link rel="stylesheet" type="text/css" href="../static/Bootstrap-bootstrap-less-type.less.css" />
<link rel="stylesheet" type="text/css" href="../static/Bootstrap-bootstrap-less-tables.less.css" />
<link rel="stylesheet" type="text/css" href="../src/components/footers/FooterDefault/FooterDefault.css" />
<link rel="stylesheet" type="text/css" href="../src/components/footers/FooterSingleLine/FooterSingleLine.css" />
<link rel="stylesheet" type="text/css" href="../src/components/footers/Footer/Footer.css" />
<link rel="stylesheet" type="text/css" href="../src/components/notifications/Message/Message.css" />
<link rel="stylesheet" type="text/css" href="../src/modules/docs-global/global.css" />
<link rel="stylesheet" type="text/css" href="../static/Bootstrap-bootstrap-less-navbar.less.css" />
<link rel="stylesheet" type="text/css" href="../static/Bootstrap-bootstrap-less-dropdowns.less.css" />
<link rel="stylesheet" type="text/css" href="../src/components/nav/NavBar/NavBar.css" />
<link rel="stylesheet" type="text/css" href="../static/Bootstrap-bootstrap-less-navs.less.css" />
<link rel="stylesheet" type="text/css" href="../src/components/nav/Nav/Nav.css" />
<link rel="stylesheet" type="text/css" href="../src/components/nav/NavDivider/NavDivider.css" />
<link rel="stylesheet" type="text/css" href="../src/components/nav/TopNavDefault/TopNavDefault.css" />
<link rel="stylesheet" type="text/css" href="../src/components/docs/Section/Section.css" />
<link rel="stylesheet" type="text/css" href="../src/modules/CodeMirror/CodeMirror-2.33/lib/codemirror.css" />
<link rel="stylesheet" type="text/css" href="../src/components/editors/CodeEditor/CodeEditor.css" />
<link rel="stylesheet" type="text/css" href="../src/components/docs/Docs/Docs.css" />
<link rel="stylesheet" type="text/css" href="../src/pages/raptor-templates/index.css" /><script type="text/javascript">var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-33982282-1"]);_gaq.push(["_trackPageview"]);(function(){var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)})();</script></head><body data-spy="scroll"><div class="navbar navbar-fixed-top"><div class="navbar-inner"><div class="container"><a class="brand" href="../index.html">RaptorJS</a><ul class="nav"><li class="divider-vertical"></li><li id="s0"><a href="../get-started/index.html">Get Started</a></li><li class="divider-vertical"></li><li id="s1" class="dropdown"><a data-toggle="dropdown" class="dropdown-toggle">Learn<b class="caret"></b></a><ul class="dropdown-menu"><li id="s2"><a href="../index.html">Overview</a></li><li id="s3"><a href="../get-started/index.html">Get Started</a></li><li id="s4"><a href="../tutorial/index.html">Tutorial</a></li><li id="s5"><a href="../api/index.html">API Reference</a></li><li id="s6"><a href="../faq/index.html">FAQ</a></li><li class="divider"></li><li id="s7"><a href="../modules-classes/index.html">Modules and Classes</a></li><li id="s8"><a href="../packaging/index.html">Packaging and Extensions</a></li><li id="s9"><a href="../optimizer/index.html">Optimizer</a></li><li id="s10" class="active nav-item-active"><a href="../raptor-templates/index.html">Raptor Templates</a></li><li id="s11"><a href="../widgets/index.html">Widgets Framework</a></li><li id="s12"><a href="../logging/index.html">Logging</a></li><li id="s13"><a href="../resource-search-path/index.html">Resource Search Path</a></li><li id="s14"><a href="../cross-environment/index.html">Cross Environment Support</a></li></ul></li><li class="divider-vertical"></li><li id="s15" class="dropdown"><a data-toggle="dropdown" class="dropdown-toggle">Community<b class="caret"></b></a><ul class="dropdown-menu"><li id="s16"><a href="https://github.com/raptorjs/raptorjs">Source code</a></li><li id="s17"><a href="https://github.com/raptorjs/raptorjs/issues">Issue Tracker</a></li><li id="s18"><a href="../contribute/index.html">Contribute</a></li><li id="s19"><a href="../contributors/index.html">Contributors</a></li><li class="divider"></li><li id="s20"><a href="http://groups.google.com/group/raptorjs">Discussion Forum</a></li><li class="divider"></li><li id="s21"><a href="http://twitter.com/raptorjs">Twitter (@raptorjs)</a></li><li id="s22"><a href="http://twitter.com/raptorjs">Google+</a></li></ul></li><li class="divider-vertical"></li><li id="s23" class="dropdown"><a data-toggle="dropdown" class="dropdown-toggle">About<b class="caret"></b></a><ul class="dropdown-menu"><li id="s24"><a href="https://github.com/raptorjs/raptorjs/wiki/Release-Notes">Release Notes</a></li><li id="s25"><a href="../design-philosophy/index.html">Design Philosophy</a></li><li id="s26"><a href="../license/index.html">License</a></li><li id="s27"><a href="../credits/index.html">Credits</a></li><li id="s28"><a href="../creators/index.html">Creators</a></li></ul></li><li class="divider-vertical"></li></ul></div></div></div><div class="container"><div class="docs"><div class="bd"><div class="toc nav" id="docsNav"><ul class="toc"><li class="toc toc-level-0"><a href="#Overview">Overview</a><ul class="toc"></ul></li><li class="toc toc-level-0"><a href="#Introduction">Introduction</a><ul class="toc"><li class="toc toc-level-1"><a href="#Sample_Template">Sample Template</a><ul class="toc"></ul></li><li class="toc toc-level-1"><a href="#Template_Rendering">Template Rendering</a><ul class="toc"></ul></li><li class="toc toc-level-1"><a href="#Template_Directives_Overview">Template Directives Overview</a><ul class="toc"></ul></li><li class="toc toc-level-1"><a href="#Extensibility">Extensibility</a><ul class="toc"></ul></li></ul></li><li class="toc toc-level-0"><a href="#Expressions">Expressions</a><ul class="toc"><li class="toc toc-level-1"><a href="#Helper_Functions">Helper Functions</a><ul class="toc"></ul></li><li class="toc toc-level-1"><a href="#Expression_Escape_Sequences">Expression Escape Sequences</a><ul class="toc"></ul></li><li class="toc toc-level-1"><a href="#Expression_Handlers">Expression Handlers</a><ul class="toc"></ul></li></ul></li><li class="toc toc-level-0"><a href="#Template_Directives">Template Directives</a><ul class="toc"><li class="toc toc-level-1"><a href="#Template">Template</a><ul class="toc"><li class="toc toc-level-2"><a href="#ctemplate">&lt;c:template></a><ul class="toc"></ul></li><li class="toc toc-level-2"><a href="#cinclude">&lt;c:include></a><ul class="toc"></ul></li></ul></li><li class="toc toc-level-1"><a href="#Text_Replacement">Text Replacement</a><ul class="toc"><li class="toc toc-level-2"><a href="#XML_Escaping">XML Escaping</a><ul class="toc"></ul></li></ul></li><li class="toc toc-level-1"><a href="#Conditionals">Conditionals</a><ul class="toc"><li class="toc toc-level-2"><a href="#if_elseif_else">if...else-if...else</a><ul class="toc"></ul></li><li class="toc toc-level-2"><a href="#ChooseWhenOtherwise">choose…when…otherwise</a><ul class="toc"></ul></li><li class="toc toc-level-2"><a href="#Shorthand_conditionals">Short-hand conditionals</a><ul class="toc"></ul></li></ul></li><li class="toc toc-level-1"><a href="#Looping">Looping</a><ul class="toc"><li class="toc toc-level-2"><a href="#for">for</a><ul class="toc"><li class="toc toc-level-3"><a href="#Loop_status_variable">Loop status variable</a><ul class="toc"></ul></li><li class="toc toc-level-3"><a href="#Separator">Separator</a><ul class="toc"></ul></li></ul></li></ul></li><li class="toc toc-level-1"><a href="#Macros">Macros</a><ul class="toc"><li class="toc toc-level-2"><a href="#def">def</a><ul class="toc"></ul></li><li class="toc toc-level-2"><a href="#invoke">invoke</a><ul class="toc"></ul></li></ul></li><li class="toc toc-level-1"><a href="#Structure_Manipulation">Structure Manipulation</a><ul class="toc"><li class="toc toc-level-2"><a href="#attrs">attrs</a><ul class="toc"></ul></li><li class="toc toc-level-2"><a href="#bodyContent">bodyContent</a><ul class="toc"></ul></li><li class="toc toc-level-2"><a href="#replace">replace</a><ul class="toc"></ul></li><li class="toc toc-level-2"><a href="#strip">strip</a><ul class="toc"></ul></li></ul></li></ul></li><li class="toc toc-level-0"><a href="#Taglibs">Taglibs</a><ul class="toc"><li class="toc toc-level-1"><a href="#Runtime_Tag_Handlers">Runtime Tag Handlers</a><ul class="toc"></ul></li><li class="toc toc-level-1"><a href="#CompileTime_Tag_Handlers">Compile-Time Tag Handlers</a><ul class="toc"></ul></li><li class="toc toc-level-1"><a href="#CompileTime_Transformers">Compile-Time Transformers</a><ul class="toc"></ul></li><li class="toc toc-level-1"><a href="#TaglibHelperFunctions">Helper Functions</a><ul class="toc"></ul></li></ul></li><li class="toc toc-level-0"><a href="#JavaScript_API">JavaScript API</a><ul class="toc"><li class="toc toc-level-1"><a href="#Template_Rendering">Template Rendering</a><ul class="toc"><li class="toc toc-level-2"><a href="#Rendering_to_a_String">Rendering to a String</a><ul class="toc"></ul></li><li class="toc toc-level-2"><a href="#Rendering_to_a_Context">Rendering to a Context</a><ul class="toc"></ul></li></ul></li><li class="toc toc-level-1"><a href="#Template_Compilation">Template Compilation</a><ul class="toc"><li class="toc toc-level-2"><a href="#Compiling_a_Template">Compiling a Template</a><ul class="toc"></ul></li><li class="toc toc-level-2"><a href="#Loading_a_Compiled_Template">Loading a Compiled Template</a><ul class="toc"></ul></li></ul></li></ul></li><li class="toc toc-level-0"><a href="#Performance">Performance</a><ul class="toc"><li class="toc toc-level-1"><a href="#Sample_Compiled_Template">Sample Compiled Template</a><ul class="toc"></ul></li></ul></li><li class="toc toc-level-0"><a href="#Advanced">Advanced</a><ul class="toc"><li class="toc toc-level-1"><a href="#Creating_Taglibs">Creating Taglibs</a><ul class="toc"></ul></li><li class="toc toc-level-1"><a href="#Raptor_Templates_Compilation">Raptor Templates Compilation</a><ul class="toc"></ul></li></ul></li></ul></div><div class="docs-content"><h1 id="title">Raptor Templates</h1><div class="message message-warning"><div class="icon"><i class="icon-warning-sign" style="font-size: 30px;"></i></div><div class="bd">Documentation In-Progress</div></div><div class="section section-level-0"><h2 id="Overview">Overview</h2><div class="bd"><div class="try-it"><h1><i class="icon-play-circle icon-large"></i> <a href="../raptor-templates/try-online/index.html" target="_blank">Try Raptor Templates Online</a></h1><div class="desc">Edit Raptor Templates in your browser with instant results!</div></div><p>The Raptor Templating Language is heavily inspired by <a href="http://genshi.edgewall.org/wiki/Documentation/xml-templates.html">Genshi XML Template Language</a> (a templating language for Python) with the good parts of JSP mixed in. The Raptor Templating Language borrows most of the same features from Genshi and includes a JavaScript compiler so that a template can be compiled to native JavaScript code.</p><p>Since the Raptor Templating Language borrows many of the good features of JSP, most templates will look very similar to JSP templates.</p></div></div><div class="section section-level-0"><h2 id="Introduction">Introduction</h2><div class="bd"><p>All Raptor templates are required to be well-formed XML. This constraint allows the template language to use the structure of the XML document to its advantage. For example, a template directive that controls structural logic can be applied as an attribute of the element that it controls. In addition, unlike in non-XML-based templating languages, whitespace removal rules are based on the XML structure and not a string language directives. Despite a template being well-formed XML, the output does not have to be well-formed XML which makes the Raptor Templating Language flexible enough for using in all types of web applications.</p><p>The Raptor Templating Language aims to be easy to understand by utilizing concepts that front-end developers are already familiar with such as XML/HTML and JavaScript. While the Raptor Templating Language introduces a new grammar on top of XHTML, it is not an entirely new language which reduces the learning curve.</p><div class="section section-level-1"><h2 id="Sample_Template">Sample Template</h2><div class="bd"><p>Below is a sample Raptor HTML template:</p><div class="code-editor" id="s29"> <textarea id="s29-textarea" style="display: none;" name="code-0"><c:template
    xmlns:c="core"
    name="demo"
    params="colors">
 
    <!-- Colors available -->
    <ul c:if="notEmpty(colors)">
        <li c:for="color in colors">
            $color
        </li>
    </ul>
     
    <!-- No colors available -->
    <div c:if="empty(colors)">
        No colors!
    </div>
     
</c:template></textarea></div><p></p></div></div><div class="section section-level-1"><h2 id="Template_Rendering">Template Rendering</h2><div class="bd"><p>To produce output, a compiled template is invoked with the provided user data that is required by the template.</p><p>For example, given the following input data:</p><div class="code-editor" id="s30"> <textarea id="s30-textarea" style="display: none;" name="code-1">{
    colors: ["red", "green", "blue"]
}</textarea></div><p>The output of rendering the above sample template would be the following:</p><div class="code-editor" id="s31"> <textarea id="s31-textarea" style="display: none;" name="code-2"><ul><li>red</li><li>green</li><li>blue</li></ul></textarea></div><p>For comparison, given the following input data consisting of an empty array of colors:</p><div class="code-editor" id="s32"> <textarea id="s32-textarea" style="display: none;" name="code-3">{
    colors: []
}</textarea></div><p>The output would be the following:</p><div class="code-editor" id="s33"> <textarea id="s33-textarea" style="display: none;" name="code-4"><div>No colors!</div></textarea></div></div></div><div class="section section-level-1"><h2 id="Template_Directives_Overview">Template Directives Overview</h2><div class="bd"><p>Almost all of the Raptor templating directives can be used as either an attribute or as an element. The template included above can be rewritten to apply template directives as elements instead of as attributes to produce the equivalent output. For example:</p><table class="table table-bordered"><thead><tr><th>Applying directives using attributes</th><th>Applying directives using elements</th></tr></thead><tbody><tr><td style="width: 50%"><div class="code-editor" id="s34"> <textarea id="s34-textarea" style="display: none;" name="code-5"><c:template
    xmlns:c="core"
    name="demo"
    params="colors">
 
    <!-- Colors available -->
    <ul c:if="notEmpty(colors)">
        <li c:for="color in colors">
            $color
        </li>
    </ul>
     
    <!-- No colors available -->
    <div c:if="empty(colors)">
        No colors!
    </div>
     
</c:template></textarea></div></td><td style="width: 50%"><div class="code-editor" id="s35"> <textarea id="s35-textarea" style="display: none;" name="code-6"><c:template
    xmlns:c="core"
    name="demo"
    params="colors">
  
    <!-- Colors available -->
    <c:if test="notEmpty(colors)">
        <ul>
            <c:for each="color in colors">
                <li>
                    $color
                </li>
            </c:for>
        </ul>
    </c:if>
      
    <!-- No colors available -->
    <c:if test="empty(colors)">
        <div>
            No colors!
        </div>
    </c:if>
     
</c:template></textarea></div></td></tr></tbody></table><p>The disadvantage of using elements to control structural logic is that they change the nesting of the elements which can impact readability. For this reason it is often more suitable to use attributes.</p></div></div><div class="section section-level-1"><h2 id="Extensibility">Extensibility</h2><div class="bd"><p></p></div></div></div></div><div class="section section-level-0"><h2 id="Expressions">Expressions</h2><div class="bd"><p>Valid JavaScript expressions are allowed wherever expressions can be used within a template. However, because templates must be well-formed XML you will have problems if you try to use unescaped less than ("&lt;") and ampersand ("&amp;") characters as part of an expression since those characters are special XML characters and would break parsing. You can choose to escape the special characters (i.e. use "&amp;lt;" for "&lt;" and "&amp;amp;" for "&amp;") or, preferably, you can choose to use any of the following equivalent binary operators supported by the Raptor Templating Language:</p><table class="expression-operators table table-striped table-bordered table-condensed"><thead><tr><th>JavaScript Operator</th><th>Raptor Equivalent</th></tr></thead><tbody><tr><td><code>&amp;&amp;</code></td><td><code>and</code></td></tr><tr><td><code>||</code></td><td><code>or</code></td></tr><tr><td><code>===</code></td><td><code>eq</code></td></tr><tr><td><code>!==</code></td><td><code>ne</code></td></tr><tr><td><code>&lt;</code></td><td><code>lt</code></td></tr><tr><td><code>></code></td><td><code>gt</code></td></tr><tr><td><code>&lt;=</code></td><td><code>le</code></td></tr><tr><td><code>>=</code></td><td><code>ge</code></td></tr></tbody></table><div class="section section-level-1"><h2 id="Helper_Functions">Helper Functions</h2><div class="bd"><p>Because expressions in Raptor Templates allow any JavaScript code, expressions can make use of global functions. It is also possible to import functions provided by taglibs as local variables to avoid the use of global functions. See <a href="#TaglibHelperFunctions"><nobr>Taglibs &raquo; Helper Functions</nobr> </a> for more details.</p></div></div><div class="section section-level-1"><h2 id="Expression_Escape_Sequences">Expression Escape Sequences</h2><div class="bd"><p>If the text "${" is intended to be part of the output then the "$" character must be escaped using a backslash as shown in the following code:</p><div class="code-editor" id="s36"> <textarea id="s36-textarea" style="display: none;" name="code-7">\${test} &lt;!-- Output: ${test} --></textarea></div><p>In the unlikely case that "\${" was intended to be part of the output then the backslash must be escaped by another backslash as shown in the following code:</p><div class="code-editor" id="s37"> <textarea id="s37-textarea" style="display: none;" name="code-8">\\${test} &lt;!-- Output: \${test} --></textarea></div></div></div><div class="section section-level-1"><h2 id="Expression_Handlers">Expression Handlers</h2><div class="bd"><p></p></div></div></div></div><div class="section section-level-0"><h2 id="Template_Directives">Template Directives</h2><div class="bd"><div class="section section-level-1"><h2 id="Template">Template</h2><div class="bd"><div class="section section-level-2"><h2 id="ctemplate">&lt;c:template></h2><div class="bd"><p>The root element of all templates should be a <c:template> tag. This tag defines the name of the template and the input parameters for the template. In addition, XML namespaces corresponding to taglibs should be attached to the root element.</p><div class="code-editor" id="s38"> <textarea id="s38-textarea" style="display: none;" name="code-9"><c:template
    xmlns:c="http://raptorjs.org/templates/core"
    name="greeting"
    params="name,count">
    ...  
</c:template></textarea></div><div class="message message-info"><div class="icon"><i class="icon-info-sign" style="font-size: 30px;"></i></div><div class="bd"><p>All taglib URIs support a "short name" that can be used as an alternative to a long taglib URI. For example, the short name for "http://raptorjs.org/templates/core" is "core". Therefore, the following will work as well:</p><div class="code-editor" id="s39"> <textarea id="s39-textarea" style="display: none;" name="code-10"><c:template
    xmlns:c="core"
    name="greeting"
    params="name,count">
    ...
</c:template></textarea></div></div></div><p>The "names" attribute is required and when loaded the template will register itself based on the name provided. The "params" attribute can be used to create one or more local variables using corresponding properties from the provided data object. The params attribute is optional, but if provided, it should consist of a comma-separated list of variable names.</p><div class="message message-info"><div class="icon"><i class="icon-info-sign" style="font-size: 30px;"></i></div><div class="bd"><p>The "params" attribute is used to create local variables that can be easily accessed throughout the HTML template. Alternatively, properties of the data object can be accessed directly. The following are equivalent:</p><table class="table table-bordered"><thead><tr><th>With params</th><th>Without params</th></tr></thead><tbody><tr><td style="width: 50%"><div class="code-editor" id="s40"> <textarea id="s40-textarea" style="display: none;" name="code-11"><c:template
    xmlns:c="core"
    name="greeting"
    params="name,count">
  
    Hello $name! 
    You have $count new messages.
  
</c:template></textarea></div></td><td style="width: 50%"><div class="code-editor" id="s41"> <textarea id="s41-textarea" style="display: none;" name="code-12"><c:template
    xmlns:c="core"
    name="greeting">
  
    Hello ${data.name}! 
    You have ${data.count} new messages.
  
</c:template></textarea></div></td></tr></tbody></table><p>The benefit of declaring parameters is that the local variables will be minified which can reduce the size of the compiled output if the variable is used in many places. In addition, declaring params make it easier for other developers to understand what input is expected for a template.</p></div></div></div></div><div class="section section-level-2"><h2 id="cinclude">&lt;c:include></h2><div class="bd"><p>Another template can easily be included using the &lt;c:include> directive. The "template" attribute is required to specify name of the template to include and all other attributes are used as arguments to the template.</p><div class="code-editor" id="s42"> <textarea id="s42-textarea" style="display: none;" name="code-13"><c:include template="myTemplate" someArg="${someVar}" anotherArg="Hello"/></textarea></div><p>As shown in the above example, attributes are used to define the template data for the included template. Alternatively, the <code>templateData</code> attribute can be used to pass along a complete data object to use for the included template as shown in the following example:</p><div class="code-editor" id="s43"> <textarea id="s43-textarea" style="display: none;" name="code-14"><c:include template="myTemplate" templateData="includeData"/></textarea></div><p>In the above example, <code>includeData</code> is an expression that resolves to a JavaScript object. The resolved JavaScript object will then be used as the <code>data</code> object for the included template.</p></div></div></div></div><div class="section section-level-1"><h2 id="Text_Replacement">Text Replacement</h2><div class="bd"><p>Dynamic text should be of the form ${entity:lt}variable-name> or ${{entity:lt}javascript-expression>}:</p><div class="code-editor" id="s44"> <textarea id="s44-textarea" style="display: none;" name="code-15"><div>
    Hello $name!
</div>
<div>
    Hello ${name.toUpperCase()}!
</div>
<img src="$imgUrl"/></textarea></div><div class="section section-level-2"><h2 id="XML_Escaping">XML Escaping</h2><div class="bd"><p>By default, special XML characters in the output of an expression are always escaped to prevent <a href="http://en.wikipedia.org/wiki/Cross-site_scripting">cross-site scripting (XSS)</a> attacks. For example, given the following template:</p><div class="code-editor" id="s45"> <textarea id="s45-textarea" style="display: none;" name="code-16">Hello $name</textarea></div></div></div><p>And the following data:</p><div class="code-editor" id="s46"> <textarea id="s46-textarea" style="display: none;" name="code-17">{
    "name": "<script>alert('Hello World')</script>"
}</textarea></div><p>The output would be the following:</p><div class="code-editor" id="s47"> <textarea id="s47-textarea" style="display: none;" name="code-18">Hello &amp;lt;script&amp;gt;alert('Hello World')&amp;lt;/script&amp;gt;!</textarea></div><p>In this example, the browser would not interpret the script tag since the XML characters had been escaped.</p><p>To disable XML escaping, the expression should be of the form ${xml:<span>&lt;</span>javascript-expression>}. The "xml" expression handler lets the compiler know that XML is expected and that the XML characters should not be escaped.</p></div></div><div class="section section-level-1"><h2 id="Conditionals">Conditionals</h2><div class="bd"><p></p><div class="section section-level-2"><h2 id="if_elseif_else">if...else-if...else</h2><div class="bd"><p>Any element or fragment of HTML can be made conditional using the c:if, c:else-if or c:else directive.</p><table class="table table-bordered"><thead><tr><th>Applied as an attribute</th><th>Applied as an element</th></tr></thead><tbody><tr><td style="width: 50%"><div class="code-editor" id="s48"> <textarea id="s48-textarea" style="display: none;" name="code-19"><!--Simple if-->
<div c:if="someCondition">
    Hello World
</div>

<!--Complex if-->
<div c:if="test === 'a'">
    A
</div>
<div c:else-if="test === 'b'">
    B
</div>
<div c:else-if="test === 'c'">
    c
</div>
<div c:else="">
    Something else
</div></textarea></div></td><td style="width: 50%"><div class="code-editor" id="s49"> <textarea id="s49-textarea" style="display: none;" name="code-20"><!--Simple if-->
<c:if test="someCondition">
    <div>
        Hello World
    </div>
</c:if>

<!--Complex if-->
<c:if test="test === 'a'">
    <div>
        A
    </div>
</c:if>
<c:else-if test="test === 'b'">
    <div>
        B
    </div>
</c:else-if>
<c:else-if test="test === 'c'">
    <div>
        C
    </div>
</c:else-if>
<c:else>
    <div>
        Something else
    </div>
</c:else></textarea></div></td></tr></tbody></table></div></div><div class="section section-level-2"><h2 id="ChooseWhenOtherwise">choose…when…otherwise</h2><div class="bd"><p>The c:choose directive, in combination with the directives c:when and c:otherwise provides advanced conditional processing for rendering one of several alternatives. The first matching c:when branch is rendered, or, if no c:when branch matches, the c:otherwise branch is rendered.</p><table class="table table-bordered"><thead><tr><th>Applied as an attribute</th><th>Applied as an element</th></tr></thead><tbody><tr><td style="width: 50%"><div class="code-editor" id="s50"> <textarea id="s50-textarea" style="display: none;" name="code-21"><c:choose>
    <c:when test="myVar === 'A'">
        <div>A</div>
    </c:when>
    <c:when test="myVar === 'B'">
        <div>B</div>
    </c:when>
    <c:otherwise>
        <div>Something else</div>
    </c:otherwise>
<c:choose></textarea></div></td><td style="width: 50%"><div class="code-editor" id="s51"> <textarea id="s51-textarea" style="display: none;" name="code-22"><c:choose>
    <div c:when="myVar === 'A'">
        A
    </div>
    <div c:when="myVar === 'B'">
        B
    </div>
    <div c:otherwise="">
        Something else
    </div>
<c:choose></textarea></div></td></tr></tbody></table><p>Given a value of "A" for "myVar", the output would be the following:</p><div class="code-editor" id="s52"> <textarea id="s52-textarea" style="display: none;" name="code-23"><div>A</div></textarea></div><p>Given a value of "C" for "myVar", the output would be the following:</p><div class="code-editor" id="s53"> <textarea id="s53-textarea" style="display: none;" name="code-24"><div>Something else</div></textarea></div></div></div><div class="section section-level-2"><h2 id="Shorthand_conditionals">Short-hand conditionals</h2><div class="bd"><p>Short-hand conditionals allow for conditional values inside attributes or wherever expressions are allowed. Short-hand conditionals are of the following form:<br><code>{?&lt;expression>;&lt;true-template>[;&lt;false-template>]}</code></p><p>For example:</p><div class="code-editor" id="s54"> <textarea id="s54-textarea" style="display: none;" name="code-25"><div class="{?active;tab-active}">Hello</div></textarea></div><p>With a value of <code>true</code> for <code>active</code>, the output would be the following:</p><div class="code-editor" id="s55"> <textarea id="s55-textarea" style="display: none;" name="code-26"><div class="tab-active">Hello</div></textarea></div><p>With a value of <code>false</code> for <code>active</code>, the output would be the following:</p><div class="code-editor" id="s56"> <textarea id="s56-textarea" style="display: none;" name="code-27"><div>Hello</div></textarea></div><div class="message message-info"><div class="icon"><i class="icon-info-sign" style="font-size: 30px;"></i></div><div class="bd"><p>If the expression inside an attribute evalutes to <code>null</code> or an empty string then the attribute is not included in the output.</p></div></div><p>As shown in the previous example, the "else" block for short-hand conditionals is optional. The usage of an else block is shown below:</p><div class="code-editor" id="s57"> <textarea id="s57-textarea" style="display: none;" name="code-28"><div class="{?active;tab-active;tab-inactive}">Hello</div></textarea></div><p>With a value of <code>false</code> for <code>active</code>, the output would be the following:</p><div class="code-editor" id="s58"> <textarea id="s58-textarea" style="display: none;" name="code-29"><div class="tab-inactive">Hello</div></textarea></div></div></div></div></div><div class="section section-level-1"><h2 id="Looping">Looping</h2><div class="bd"><div class="section section-level-2"><h2 id="for">for</h2><div class="bd"><p>Any element can be repeated for every item in an array using the c:for directive. The directive can be applied as an element or as an attribute.</p><table class="table table-bordered"><thead><tr><th>Applied as an attribute</th><th>Applied as an element</th></tr></thead><tbody><tr><td style="width: 50%"><div class="code-editor" id="s59"> <textarea id="s59-textarea" style="display: none;" name="code-30"><ul>
    <li c:for="item in items">${item}</li>
</ul></textarea></div></td><td style="width: 50%"><div class="code-editor" id="s60"> <textarea id="s60-textarea" style="display: none;" name="code-31"><ul>
    <c:for each="item in items">
        <li>${item}</li>
    </c:for>
</ul></textarea></div></td></tr></tbody></table><p>Given a value of <code>["red", "green", "blue"]</code> for <code>items</code>, the output would be the following:</p><div class="code-editor" id="s61"> <textarea id="s61-textarea" style="display: none;" name="code-32"><ul>
    <li>red</li>
    <li>green</li>
    <li>blue</li>
</ul></textarea></div><div class="section section-level-3"><h2 id="Loop_status_variable">Loop status variable</h2><div class="bd"><p>If while looping you need access to additional information about the status of the looping then the "varStatus" attribute can be specified to introduce a new variable. The loop status variable supports the following methods:</p><ul><li>getLength()</li><li>isLast()</li><li>isFirst()</li><li>getIndex()</li></ul><table class="table table-bordered"><thead><tr><th>Applied as an attribute</th><th>Applied as an element</th></tr></thead><tbody><tr><td style="width: 50%"><div class="code-editor" id="s62"> <textarea id="s62-textarea" style="display: none;" name="code-33"><ul>
    <li c:for="item in items; varStatus=loopStatus">
        ${loopStatus.getIndex()+1}) ${item}
    </li>
</ul></textarea></div></td><td style="width: 50%"><div class="code-editor" id="s63"> <textarea id="s63-textarea" style="display: none;" name="code-34"><ul>
    <c:for each="item in items" varStatus="loopStatus">
        <li>
            ${loopStatus.getIndex()+1}) ${item}
        </li>
    </c:for>
</ul></textarea></div></td></tr></tbody></table><p>Given a value of <code>["red", "green", "blue"]</code> for items, the output would be the following:</p><div class="code-editor" id="s64"> <textarea id="s64-textarea" style="display: none;" name="code-35"><ul>
    <li>
        1) red
    </li>
    <li>
        2) green
    </li>
    <li>
        3) blue
    </li>
</ul></textarea></div></div></div><div class="section section-level-3"><h2 id="Separator">Separator</h2><div class="bd"><p>When looping over an array of items, a separator can be defined. The separator will automatically be written to the output after each iteration.</p><table class="table table-bordered"><thead><tr><th>Applied as an attribute</th><th>Applied as an element</th></tr></thead><tbody><tr><td style="width: 50%"><div class="code-editor" id="s65"> <textarea id="s65-textarea" style="display: none;" name="code-36"><span c:for="item in items; separator=', '">
   ${item}
</span></textarea></div></td><td style="width: 50%"><div class="code-editor" id="s66"> <textarea id="s66-textarea" style="display: none;" name="code-37"><c:for each="item in items" separator=", ">
    <span>
        ${item}
    </span>
</c:for></textarea></div></td></tr></tbody></table><p>Given a value of <code>["red", "green", "blue"]</code> for items, the output would be the following:</p><div class="code-editor" id="s67"> <textarea id="s67-textarea" style="display: none;" name="code-38"><span>red<span>, <span>green</span>, <span>blue</span></textarea></div></div></div></div></div></div></div><div class="section section-level-1"><h2 id="Macros">Macros</h2><div class="bd"><p>Macros allow for reusable fragments within an HTML template. Macros can also be parameterized. A macro can be defined using the &lt;c:de> directive and a macro when defining a macro.</p><div class="section section-level-2"><h2 id="def">def</h2><div class="bd"><p>The <c:def> directive can be used to define a reusable function within a template.</p><div class="code-editor" id="s68"> <textarea id="s68-textarea" style="display: none;" name="code-39"><c:def function="greeting(name, count)">
    Hello $name! You have $count new messages.
</c:def></textarea></div><p>The above macro can then be invoked as part of any expression. Alternatively, the <a href="#invoke"><c:invoke></a> directive can be used invoke a macro function using named attributes. The following sample template shows how to use macro functions inside expressions:</p><div class="code-editor" id="s69"> <textarea id="s69-textarea" style="display: none;" name="code-40"><c:def function="greeting(name, count)">
    Hello $name! You have $count new messages.
</c:def>

<p>
    ${greeting("John", 10)}
</p>
<p>
    ${greeting("Frank", 20)}
</p></textarea></div><p>The output for the above template would be the following:</p><div class="code-editor" id="s70"> <textarea id="s70-textarea" style="display: none;" name="code-41"><p>
    Hello John! You have 10 new messages.
</p>
<p>
    Hello Frank! You have 20 new messages.
</p></textarea></div></div></div><div class="section section-level-2"><h2 id="invoke">invoke</h2><div class="bd"><p>The <c:invoke> directive can be used to invoke a function defined using the <c:def> directive or a function that is part of the input to a template. The <c:invoke> directive allows arguments to be passed using element attributes, but that format is only supported for functions that were previously defined using the <c:def> directive.</p><div class="code-editor" id="s71"> <textarea id="s71-textarea" style="display: none;" name="code-42"><c:def function="greeting(name, count)">
    Hello ${name}! You have ${count} new messages.
</c:def>
 
<c:invoke function="greeting" name="John" count="${10}"/>
<c:invoke function="greeting('Frank', 20)"/> 
</textarea></div><p>The output for the above template would be the following:</p><div class="code-editor" id="s72"><h2 class="code-editor-title">Output</h2> <textarea id="s72-textarea" style="display: none;" name="code-43"><p>
    Hello John! You have 10 new messages.
</p>
<p>
    Hello Frank! You have 20 new messages.
</p></textarea></div><div class="message message-info"><div class="icon"><i class="icon-info-sign" style="font-size: 30px;"></i></div><div class="bd"><p>NOTE: By default, the arguments will be of type "string" when using &lt;c:invoke>. However, argument attributes support JavaScript expressions which allow for other types of arguments. Example:</p><div class="code-editor" id="s73"> <textarea id="s73-textarea" style="display: none;" name="code-44">count="10" <!-- string argument -->
count="${10}"  <!-- number argument --></textarea></div></div></div></div></div></div></div><div class="section section-level-1"><h2 id="Structure_Manipulation">Structure Manipulation</h2><div class="bd"><p></p><div class="section section-level-2"><h2 id="attrs">attrs</h2><div class="bd"><p>The <code>c:attrs</code> attribute allows attributes to be dynamically added to an element at runtime. The value of the c:attrs attribute should be an expression that resolves to an object with properties that correspond to the dynamic attributes. For example:</p><div class="code-editor" id="s74"> <textarea id="s74-textarea" style="display: none;" name="code-45"><div c:attrs="myAttrs">
    Hello World!
</div></textarea></div><p>Given a value of <code>{style: "background-color: #FF0000;", "class": "my-div"}</code> for the <code>myAttrs</code> variable, the output would then be the following:</p><div class="code-editor" id="s75"> <textarea id="s75-textarea" style="display: none;" name="code-46"><div style="background-color: #FF0000;" class="my-div">
    Hello World!
</div></textarea></div></div></div><div class="section section-level-2"><h2 id="bodyContent">bodyContent</h2><div class="bd"><p>This directive replaces any nested content with the result of evaluating the expression:</p><div class="code-editor" id="s76"> <textarea id="s76-textarea" style="display: none;" name="code-47"><ul>
    <li c:bodyContent="myExpr">Hello</li>
</ul></textarea></div><p>Given a value of <code>"Bye!"</code> for the value of <code>myExpr</code>, the output of the above template would be the following:</p><div class="code-editor" id="s77"> <textarea id="s77-textarea" style="display: none;" name="code-48"><ul>
    <li>Bye!</li>
</ul></textarea></div></div></div><div class="section section-level-2"><h2 id="replace">replace</h2><div class="bd"><p>This directive replaces the element itself with the result of evaluating the expression:</p><div class="code-editor" id="s78"> <textarea id="s78-textarea" style="display: none;" name="code-49"><div>
    <span c:replace="myExpr">Hello</span>
</div></textarea></div><p>Given a value of "Bye!" for the value of "myExpr", the output of the above template would be the following: </p><div class="code-editor" id="s79"> <textarea id="s79-textarea" style="display: none;" name="code-50"><div>
    Bye!
</div></textarea></div></div></div><div class="section section-level-2"><h2 id="strip">strip</h2><div class="bd"><p>This directive conditionally strips the top-level element from the output. If the expression provided as the attribute value evaluates to true then the element is stripped from the output:</p><div class="code-editor" id="s80"> <textarea id="s80-textarea" style="display: none;" name="code-51"><div>
    <span c:strip="true"><b>Hello</b></span>
</div></textarea></div><div class="code-editor" id="s81"><h2 class="code-editor-title">Output</h2> <textarea id="s81-textarea" style="display: none;" name="code-52"><div>
    <b>Hello</b>
</div></textarea></div></div></div></div></div></div></div><div class="section section-level-0"><h2 id="Taglibs">Taglibs</h2><div class="bd"><p></p><div class="section section-level-1"><h2 id="Runtime_Tag_Handlers">Runtime Tag Handlers</h2><div class="bd"><p>Tag handlers allow templates to be extended by allowing the rendering of an element template to be controlled by an external class/component. Handlers are given a reference to their body fragment so that they can control how to handle the rendering of their body content. In addition, a handler can introduce scoped variables that are available to the nested body content only.</p><p>For example, the &lt;test:greeting> handler might be used as follows:</p> <div class="code-editor" id="s82"> <textarea id="s82-textarea" style="display: none;" name="code-53"><c:template
    xmlns:c="core"
    xmlns:test="test"
    name="simple-handlers">
     
    <test:greeting name="World"/>
     
</c:template></textarea></div><div class="code-editor" id="s83"><h2 class="code-editor-title">Tag Handler Implementation</h2> <textarea id="s83-textarea" style="display: none;" name="code-54">raptor.defineClass(
    'taglibs.test.GreetingHandler',
    function(raptor) {
        return {
            process: function(input, context) {
                context.write("Hello " + input.name + "!");
            }
        }
    });</textarea></div><div class="code-editor" id="s84"><h2 class="code-editor-title">Output</h2> <textarea id="s84-textarea" style="display: none;" name="code-55">Hello World!</textarea></div><p>The following Taglib fragment shows how to associate a custom tag with a runtime tag handler class:</p><div class="code-editor" id="s85"> <textarea id="s85-textarea" style="display: none;" name="code-56"><tag>
    <name>greeting</name>
    <handler-class>taglibs.test.GreetingHandler</handler-class>
    <attribute name="name" type="string"/>
</tag></textarea></div><p>For more details on creating taglibs, please see the following sub-page: </p><ul><li><a href="../raptor-templates/taglibs/index.html">Advanced &raquo; Creating Taglibs</a></li></ul></div></div><div class="section section-level-1"><h2 id="CompileTime_Tag_Handlers">Compile-Time Tag Handlers</h2><div class="bd"><p>Raptor Templates allow custom tags to be handled both at runtime via runtime tag handlers and also at compile-time via compile-time tag handlers. Raptor Templates allow a "Node" class to be associated with a custom tag and this class is required to implement one method—<code>doGenerateCode</code>. As part of compilation process, a tree of nodes is built based on the input template and to generate code, the <code>generateCode</code> method of the root node is invoked which recursively invoke the <code>generateCode</code> method for all child nodes.</p><p>The following Taglib fragment shows how to associate a custom tag with a node compiler class:</p> <div class="code-editor" id="s86"> <textarea id="s86-textarea" style="display: none;" name="code-57"><tag>
    <name>if</name> 
    <node-class>templating.taglibs.core.IfNode</node-class>
    <attribute name="test" type="expression"/>
</tag></textarea></div><p>For more details on Raptor Templates compilation and creating taglibs, please see the following sub-pages </p><ul><li><a href="../raptor-templates/compilation/index.html">Advanced &raquo; Raptor Templates Compilation</a></li><li><a href="../raptor-templates/taglibs/index.html">Advanced &raquo; Creating Taglibs</a></li></ul></div></div><div class="section section-level-1"><h2 id="CompileTime_Transformers">Compile-Time Transformers</h2><div class="bd"><p>Raptor Templates allows code generation to be controlled by registering compile-time tree transformers. Transformers have full control over the parsed node tree before the code generation phase. Transformers can manipulate the node tree in any way, including removing/adding/rearranging nodes, adding/removing element attributes, etc.</p><p>As an example, the core taglib registers a transform that looks for the <code>c:if</code> attribute on all elements and will surround the node with a new <code>&lt;c:if></code> node.</p> <p>For more details on Raptor Templates compilation and registering transformers, please see the following sub-pages </p><ul><li><a href="../raptor-templates/compilation/index.html">Advanced &raquo; Raptor Templates Compilation</a></li><li><a href="../raptor-templates/taglibs/index.html">Advanced &raquo; Creating Taglibs</a></li></ul></div></div><div class="section section-level-1"><h2 id="TaglibHelperFunctions">Helper Functions</h2><div class="bd"><p>Raptor Template taglibs can export helper functions that can be used in any template that imports the functions. Imported helper functions be used inside any JavaScript expression.</p><p>The following code shows how to import and use functions inside a Raptor Template:</p><div class="code-editor" id="s87"> <textarea id="s87-textarea" style="display: none;" name="code-58"><c:template
    xmlns:test="test"
    xmlns:c="core"
    test:functions="reverse">
    
    <div>${reverse('reverse test')}</div>
    
</c:template></textarea></div><p>The output for the above rendered template would be the following:</p><div class="code-editor" id="s88"> <textarea id="s88-textarea" style="display: none;" name="code-59"><div>tset esrever</div></textarea></div><p>Helper functions can be registered as part of a taglib as shown in the following taglib code fragment:</p><div class="code-editor" id="s89"> <textarea id="s89-textarea" style="display: none;" name="code-60"><function name="reverse" class="taglibs.test.TestFunctions"/></textarea></div><p>The above fragment registers a helper function and tells the Raptor Template compiler where the implementation for the function can be found. The sample code below illustrates how to implement helper functions:</p><div class="code-editor" id="s90"> <textarea id="s90-textarea" style="display: none;" name="code-61">raptor.define(
    "taglibs.test.TestFunctions",
    function() {
        return {
            reverse: function(str) {
                var out = "";
                for (var i=str.length-1; i>=0; i--) {
                    out += str.charAt(i); 
                }
                return out;
            }
        }
    });</textarea></div><p>For more details on creating taglibs, please see the following sub-page: </p><ul><li><a href="../raptor-templates/taglibs/index.html">Advanced &raquo; Creating Taglibs</a></li></ul> </div></div></div></div><div class="section section-level-0"><h2 id="JavaScript_API">JavaScript API</h2><div class="bd"><p></p><div class="section section-level-1"><h2 id="Template_Rendering">Template Rendering</h2><div class="bd"><p></p><div class="section section-level-2"><h2 id="Rendering_to_a_String">Rendering to a String</h2><div class="bd"><p>The <code>template.renderToString(templateName, templateData)</code> method can be used to render a template to a string.</p><div class="code-editor" id="s91"> <textarea id="s91-textarea" style="display: none;" name="code-62">var templating = raptor.require("templating");
var output = templating.renderToString("test/Person", {person: person});</textarea></div><div class="message message-info"><div class="icon"><i class="icon-info-sign" style="font-size: 30px;"></i></div><div class="bd"><p>NOTE: On the server, if the template cannot be found then the templating module will convert the template name to a path and try to load the template. The templating module actually checks two paths as illustrated by the following:</p> Input template name: <code>"test/Person"</code><br> Paths checked: <ol><li><code>/test/Person.rtmpl</code></li><li><code>/test/Person/Person.rtmpl</code></li></ol></div></div></div></div><div class="section section-level-2"><h2 id="Rendering_to_a_Context">Rendering to a Context</h2><div class="bd"><p>Instead of rendering a template to a new string, the output of rendering a template can be added to an existing "context". A context is an object that gets created every time a template is rendered if a context is not provided. At a minimum, a context should contain a <code>write(str)</code> method that is used to add output to an output buffer and a <code>getOutput()</code> method that is used to get the string output.</p><p>The following code illustrates how to render a template to an existing context:</p><div class="code-editor" id="s92"> <textarea id="s92-textarea" style="display: none;" name="code-63">var templating = raptor.require("templating");
var context = templating.createContext();
templating.render("test/Person", {person: person}, context);
var output = context.getOutput();</textarea></div></div></div></div></div><div class="section section-level-1"><h2 id="Template_Compilation">Template Compilation</h2><div class="bd"><p></p><div class="section section-level-2"><h2 id="Compiling_a_Template">Compiling a Template</h2><div class="bd"><p>If you prefer to only compile a code to JavaScript then the following code can be used:</p><div class="code-editor" id="s93"> <textarea id="s93-textarea" style="display: none;" name="code-64">var compiler = raptor.require("templating.compiler");
var compilerOptions = {
    preserveWhitespace: true
};
var jsSource = compiler.compile('<c:template \
        xmlns:c="core"> \
        name="greeting" \
        params="name"> \
            Hello ${name}! \
        </c:template>', 
        compilerOptions);</textarea></div><div class="message message-info"><div class="icon"><i class="icon-info-sign" style="font-size: 30px;"></i></div><div class="bd">The the <code>compilerOptions</code> argument is optional but allows additional options to be passed to the compiler to control the compiled output. The default options are the following: <div class="code-editor" id="s94"> <textarea id="s94-textarea" style="display: none;" name="code-65">{
    minify: false,
    preserveWhitespace: {
        'pre': true,
        'textarea': true
    },
    allowSelfClosing: {
        'script': false,
        'div': false,
        'textarea': false,
        'li': false,
        'b': false,
        'a': false,
        'i': false
    },
    startTagOnly: {
        'img': true,
        'br': true,
        'input': true
    }
}</textarea></div><p>For more details on the supported compiler options please see the following sub-page:</p><ul><li><a href="../raptor-templates/compilation/index.html">Advanced &raquo; Raptor Templates Compilation</a></li></ul></div></div></div></div><div class="section section-level-2"><h2 id="Loading_a_Compiled_Template">Loading a Compiled Template</h2><div class="bd"><p></p> </div></div></div></div></div></div><div class="section section-level-0"><h2 id="Performance">Performance</h2><div class="bd"><p>Raptor Templates were designed for optimal performance for use in applications with the toughest constraints by producing compiled templates with the minimal amount of code while also focusing on runtime performance.</p><p>The compiled output of Raptor Templates is kept minimal to reduce the amount of bytes that need to be sent over the wire and to reduce the amount of time that is required for a template's compiled code to be parsed and executed by a JavaScript environment. Local variables are used wherever possible to improve minification and short method names are used to keep the compiled size to a minimum.</p><p>The rendering time of Raptor Templates is kept to a minimum by fine-tuning the compiler. In addition, developers have complete flexibility to control how the compiled output is generated to allow for the most demanding performance constraints. </p><div class="section section-level-1"><h2 id="Sample_Compiled_Template">Sample Compiled Template</h2><div class="bd"><div class="code-editor" id="s95"><h2 class="code-editor-title">Input Template</h2> <textarea id="s95-textarea" style="display: none;" name="code-66"><c:template 
    xmlns:c="core" 
    params="name,colors">
    
    Hello $name!

    <c:choose>
        <ul c:when="notEmpty(colors)">
            <li c:for="color in colors">
                $color
            </li>
        </ul>
        <div c:otherwise="">
            No colors!
        </div>
    </c:choose>
    
</c:template></textarea></div><div class="code-editor" id="s96"><h2 class="code-editor-title">Unminified Compiled Output</h2> <textarea id="s96-textarea" style="display: none;" name="code-67">$rset("rhtml", "test", function(helpers){
  var empty=helpers.e,
      notEmpty=helpers.ne,
      escapeXml=helpers.x,
      forEach=helpers.f;

  return function(data, context){
    var name=data.name,
        colors=data.colors;

    context.w('Hello ')
      .w(escapeXml(name))
      .w('!');
    if (notEmpty(colors)) {
      context.w('<ul>');
      forEach(colors, function(color) {
        context.w('<li>')
          .w(escapeXml(color))
          .w('</li>');
      });

      context.w('</ul>');
    } else {
      context.w('<div>No colors!</div>');
    }

  }
});</textarea></div><div class="code-editor" id="s97"><h2 class="code-editor-title">Unminified Compiled Output</h2> <textarea id="s97-textarea" style="display: none;" name="code-68">$rset("rhtml","test",function(a){var e=a.ne,c=a.x,f=a.f;return function(a,b){var g=a.name,d=a.colors;b.w("Hello ").w(c(g)).w("!");e(d)?(b.w("<ul>"),f(d,function(a){b.w("<li>").w(c(a)).w("</li>")}),b.w("</ul>")):b.w("<div>No colors!</div>")}});</textarea></div><table class="sizes table table-bordered"><thead><tr><th></th><th>Uncompressed</th><th>Gzipped</th></tr></thead><tbody><tr><td>Original Size:</td><td>454 bytes</td><td>248 bytes</td></tr><tr><td>Compiled Size:</td><td>243 bytes</td><td>178 bytes</td></tr></tbody></table> Saved 46.48% off the original size (28.23% off the gzipped size)</div></div></div></div><div class="section section-level-0"><h2 id="Advanced">Advanced</h2><div class="bd"><p></p><div class="section section-level-1"><h2 id="Creating_Taglibs">Creating Taglibs</h2><div class="bd"><p>Please see the sub-page, <a href="../raptor-templates/taglibs/index.html">Creating Taglibs</a>, for more details.</p></div></div><div class="section section-level-1"><h2 id="Raptor_Templates_Compilation">Raptor Templates Compilation</h2><div class="bd"><p>Please see the sub-page, <a href="../raptor-templates/compilation/index.html">Raptor Templates Compilation</a>, for more details.</p></div></div></div></div></div></div><div class="docs-footer"></div></div><div style="clear: both"></div><div class="footer footer-single-line"><div class="container"><div class="bd"><span class="powered-by">Powered by <a href="../index.html" class="raptorjs">RaptorJS</a> </span> &nbsp; | &nbsp; <a href="../license/index.html">License</a>&nbsp; | &nbsp; <a href="../credits/index.html">Credits</a><span class="back-to-top"><a href="#title">Back to Top</a></span></div></div></div></div><script type="text/javascript" src="../../../Raptor/RaptorJSOpenSource/src/main/resources/META-INF/resources/raptor_modules/bootstrap/bootstrap_browser.js"></script>
<script type="text/javascript" src="../../../Raptor/RaptorJSOpenSource/src/main/resources/META-INF/resources/raptor_modules/ecma/es5/es5.js"></script>
<script type="text/javascript" src="../../../Raptor/RaptorJSOpenSource/src/main/resources/META-INF/resources/raptor_modules/raptorBuilder/raptorBuilder.js"></script>
<script type="text/javascript" src="../../../Raptor/RaptorJSOpenSource/src/main/resources/META-INF/resources/raptor_modules/logging/logging_stubs.js"></script>
<script type="text/javascript" src="../../../Raptor/RaptorJSOpenSource/src/main/resources/META-INF/resources/raptor_modules/strings/strings.js"></script>
<script type="text/javascript" src="../../../Raptor/RaptorJSOpenSource/src/main/resources/META-INF/resources/raptor_modules/strings/StringBuilder.js"></script>
<script type="text/javascript" src="../../../Raptor/RaptorJSOpenSource/src/main/resources/META-INF/resources/raptor_modules/objects/objects.js"></script>
<script type="text/javascript" src="../../../Raptor/RaptorJSOpenSource/src/main/resources/META-INF/resources/raptor_modules/logging/ConsoleLogger.js"></script>
<script type="text/javascript" src="../../../Raptor/RaptorJSOpenSource/src/main/resources/META-INF/resources/raptor_modules/logging/logging.js"></script>
<script type="text/javascript" src="../../../Raptor/RaptorJSOpenSource/src/main/resources/META-INF/resources/raptor_modules/logging/LogHelper.js"></script>
<script type="text/javascript" src="../../../Raptor/RaptorJSOpenSource/src/main/resources/META-INF/resources/raptor_modules/errors/errors.js"></script>
<script type="text/javascript" src="../../../Raptor/RaptorJSOpenSource/src/main/resources/META-INF/resources/raptor_modules/oop/oop.js"></script>
<script type="text/javascript" src="../static/init-raptor-b8b82f45.js"></script>
<script type="text/javascript" src="../src/modules/jQuery/jquery-1.7.1.js"></script>
<script type="text/javascript" src="../../../Raptor/RaptorJSOpenSource/src/main/resources/META-INF/resources/raptor_modules/widgets/widgets.js"></script>
<script type="text/javascript" src="../../../Raptor/RaptorJSOpenSource/src/main/resources/META-INF/resources/raptor_modules/listeners/listeners.js"></script>
<script type="text/javascript" src="../../../Raptor/RaptorJSOpenSource/src/main/resources/META-INF/resources/raptor_modules/pubsub/pubsub.js"></script>
<script type="text/javascript" src="../../../Raptor/RaptorJSOpenSource/src/main/resources/META-INF/resources/raptor_modules/widgets/widgets_browser.js"></script>
<script type="text/javascript" src="../../../Raptor/RaptorJSOpenSource/src/main/resources/META-INF/resources/raptor_modules/widgets/Widget.js"></script>
<script type="text/javascript" src="../../../Raptor/RaptorJSOpenSource/src/main/resources/META-INF/resources/raptor_modules/widgets/widgets_jquery.js"></script>
<script type="text/javascript" src="../../../Raptor/RaptorJSOpenSource/src/main/resources/META-INF/resources/raptor_modules/widgets/Widget_jquery.js"></script>
<script type="text/javascript" src="../src/modules/Bootstrap/bootstrap/js/bootstrap-dropdown.js"></script>
<script type="text/javascript" src="../src/modules/Bootstrap/bootstrap/js/bootstrap-tab.js"></script>
<script type="text/javascript" src="../src/components/nav/NavItem/NavItemWidget.js"></script>
<script type="text/javascript" src="../src/modules/Bootstrap/bootstrap/js/bootstrap-scrollspy.js"></script>
<script type="text/javascript" src="../src/modules/jquery-scrollTo/jquery.scrollTo-1.4.2.js"></script>
<script type="text/javascript" src="../src/modules/CodeMirror/CodeMirror-2.33/lib/codemirror.js"></script>
<script type="text/javascript" src="../src/modules/CodeMirror/CodeMirror-2.33/lib/util/formatting.js"></script>
<script type="text/javascript" src="../src/components/editors/CodeEditor/CodeEditorWidget.js"></script>
<script type="text/javascript" src="../src/modules/CodeMirror/CodeMirror-2.33/mode/javascript/javascript.js"></script>
<script type="text/javascript" src="../src/modules/CodeMirror/CodeMirror-2.33/mode/xml/xml.js"></script>
<script type="text/javascript" src="../src/components/docs/Docs/DocsWidget.js"></script><script type="text/javascript">$rwidgets(
["components.nav.Nav.NavItemWidget","s0",0,0,0,0],
["components.nav.Nav.NavItemWidget","s1",0,0,0,0,
["components.nav.Nav.NavItemWidget","s2",0,0,0,0],
["components.nav.Nav.NavItemWidget","s3",0,0,0,0],
["components.nav.Nav.NavItemWidget","s4",0,0,0,0],
["components.nav.Nav.NavItemWidget","s5",0,0,0,0],
["components.nav.Nav.NavItemWidget","s6",0,0,0,0],
["components.nav.Nav.NavItemWidget","s7",0,0,0,0],
["components.nav.Nav.NavItemWidget","s8",0,0,0,0],
["components.nav.Nav.NavItemWidget","s9",0,0,0,0],
["components.nav.Nav.NavItemWidget","s10",0,0,0,0],
["components.nav.Nav.NavItemWidget","s11",0,0,0,0],
["components.nav.Nav.NavItemWidget","s12",0,0,0,0],
["components.nav.Nav.NavItemWidget","s13",0,0,0,0],
["components.nav.Nav.NavItemWidget","s14",0,0,0,0]],
["components.nav.Nav.NavItemWidget","s15",0,0,0,0,
["components.nav.Nav.NavItemWidget","s16",0,0,0,0],
["components.nav.Nav.NavItemWidget","s17",0,0,0,0],
["components.nav.Nav.NavItemWidget","s18",0,0,0,0],
["components.nav.Nav.NavItemWidget","s19",0,0,0,0],
["components.nav.Nav.NavItemWidget","s20",0,0,0,0],
["components.nav.Nav.NavItemWidget","s21",0,0,0,0],
["components.nav.Nav.NavItemWidget","s22",0,0,0,0]],
["components.nav.Nav.NavItemWidget","s23",0,0,0,0,
["components.nav.Nav.NavItemWidget","s24",0,0,0,0],
["components.nav.Nav.NavItemWidget","s25",0,0,0,0],
["components.nav.Nav.NavItemWidget","s26",0,0,0,0],
["components.nav.Nav.NavItemWidget","s27",0,0,0,0],
["components.nav.Nav.NavItemWidget","s28",0,0,0,0]],
["components.editors.CodeEditor.CodeEditorWidget","s29",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s30",0,0,{"mode":"javascript","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s31",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s32",0,0,{"mode":"javascript","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s33",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s34",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s35",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s36",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s37",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s38",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s39",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s40",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s41",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s42",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s43",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s44",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s45",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s46",0,0,{"mode":"javascript","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s47",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s48",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s49",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s50",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s51",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s52",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s53",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s54",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s55",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s56",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s57",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s58",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s59",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s60",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s61",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s62",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s63",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s64",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s65",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s66",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s67",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s68",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s69",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s70",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s71",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s72",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s73",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s74",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s75",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s76",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s77",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s78",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s79",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s80",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s81",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s82",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s83",0,0,{"mode":"javascript","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s84",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s85",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s86",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s87",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s88",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s89",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s90",0,0,{"mode":"javascript","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s91",0,0,{"mode":"javascript","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s92",0,0,{"mode":"javascript","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s93",0,0,{"mode":"javascript","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s94",0,0,{"mode":"javascript","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s95",0,0,{"mode":"xml","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s96",0,0,{"mode":"javascript","autoResize":true,"readOnly":true},0],
["components.editors.CodeEditor.CodeEditorWidget","s97",0,0,{"mode":"javascript","autoResize":true,"readOnly":true},0]);</script></body></html>