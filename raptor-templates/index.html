<!doctype html><html><head><title>RaptorJS: Raptor Templates</title><meta http-equiv="content-type" content="text/html; charset=UTF-8"/><link rel="stylesheet" type="text/css" href="../static/page-raptor-templates-index-head-ed2091ce.css" />
<link rel="stylesheet" type="text/css" href="../static/bootstrap-head-700d799c.css" />
<link rel="stylesheet" type="text/css" href="../static/code-editor-head-553eaffc.css" /><script type="text/javascript">var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-33982282-1"]);_gaq.push(["_trackPageview"]);(function(){var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)})();</script></head><body data-spy="scroll"><div class="navbar navbar-fixed-top"><div class="navbar-inner"><div class="container"><a class="brand" href="/">RaptorJS</a><ul id="s0" class="nav"><li class="divider-vertical"></li><li><a href="/get-started/">Get Started</a></li><li class="divider-vertical"></li><li class="dropdown"><a href="" data-toggle="dropdown" class="dropdown-toggle">Learn<b class="caret"></b></a><ul class="dropdown-menu"><li><a href="/">Overview</a></li><li><a href="/get-started/">Get Started</a></li><li><a href="/tutorial/">Tutorial</a></li><li><a href="/api/">API Reference</a></li><li><a href="/faq/">FAQ</a></li><li class="divider"></li><li><a href="/modules/">Modules and Classes</a></li><li><a href="/packaging/">Packaging and Extensions</a></li><li><a href="/optimizer/">Optimizer</a></li><li class="active nav-item-active"><a href="/raptor-templates/">Raptor Templates</a></li><li><a href="/widgets/">Widgets Framework</a></li><li><a href="/logging/">Logging</a></li><li><a href="/resource-search-path/">Resource Search Path</a></li></ul></li><li class="divider-vertical"></li><li class="dropdown"><a href="" data-toggle="dropdown" class="dropdown-toggle">Community<b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://github.com/raptorjs/raptorjs">Source code</a></li><li><a href="https://github.com/raptorjs/raptorjs/issues">Issue Tracker</a></li><li><a href="/contribute/">Contribute</a></li><li><a href="/contributors/">Contributors</a></li><li class="divider"></li><li><a href="http://groups.google.com/group/raptorjs">Discussion Forum</a></li><li class="divider"></li><li><a href="http://twitter.com/raptorjs">Twitter (@raptorjs)</a></li><li><a href="http://twitter.com/raptorjs">Google+</a></li></ul></li><li class="divider-vertical"></li><li class="dropdown"><a href="" data-toggle="dropdown" class="dropdown-toggle">About<b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://github.com/raptorjs/raptorjs/wiki/Release-Notes">Release Notes</a></li><li><a href="/design-philosophy/">Design Philosophy</a></li><li><a href="/license/">License</a></li><li><a href="/credits/">Credits</a></li><li><a href="/creator/">Creators</a></li></ul></li><li class="divider-vertical"></li></ul></div></div></div><div class="container"><div class="docs"><div class="bd"><div class="toc nav" id="docsNav"><ul class="toc"><li class="toc toc-level-0"><a href="#Overview">Overview</a><ul class="toc"></ul></li><li class="toc toc-level-0"><a href="#Introduction">Introduction</a><ul class="toc"><li class="toc toc-level-1"><a href="#SampleTemplate">Sample Template</a><ul class="toc"></ul></li><li class="toc toc-level-1"><a href="#TemplateCompilation">Template Compilation</a><ul class="toc"></ul></li><li class="toc toc-level-1"><a href="#TemplateDirectivesOverview">Template Directives Overview</a><ul class="toc"></ul></li><li class="toc toc-level-1"><a href="#Extensibility">Extensibility</a><ul class="toc"></ul></li></ul></li><li class="toc toc-level-0"><a href="#Expressions">Expressions</a><ul class="toc"><li class="toc toc-level-1"><a href="#HelperFunctions">Helper Functions</a><ul class="toc"></ul></li><li class="toc toc-level-1"><a href="#ExpressionEscapeSequences">Expression Escape Sequences</a><ul class="toc"></ul></li><li class="toc toc-level-1"><a href="#ExpressionHandlers">Expression Handlers</a><ul class="toc"></ul></li></ul></li><li class="toc toc-level-0"><a href="#TemplateDirectives">Template Directives</a><ul class="toc"><li class="toc toc-level-1"><a href="#Template">Template</a><ul class="toc"><li class="toc toc-level-2"><a href="#ctemplate">&lt;c:template&gt;</a><ul class="toc"></ul></li><li class="toc toc-level-2"><a href="#cinclude">&lt;c:include&gt;</a><ul class="toc"></ul></li></ul></li><li class="toc toc-level-1"><a href="#TextReplacement">Text Replacement</a><ul class="toc"><li class="toc toc-level-2"><a href="#XMLEscaping">XML Escaping</a><ul class="toc"></ul></li></ul></li><li class="toc toc-level-1"><a href="#Conditionals">Conditionals</a><ul class="toc"><li class="toc toc-level-2"><a href="#if">if</a><ul class="toc"></ul></li><li class="toc toc-level-2"><a href="#ChooseWhenOtherwise">choose&#8230;when&#8230;otherwise</a><ul class="toc"></ul></li></ul></li><li class="toc toc-level-1"><a href="#Looping">Looping</a><ul class="toc"><li class="toc toc-level-2"><a href="#for">for</a><ul class="toc"><li class="toc toc-level-3"><a href="#Loopstatusvariable">Loop status variable</a><ul class="toc"></ul></li><li class="toc toc-level-3"><a href="#Separator">Separator</a><ul class="toc"></ul></li></ul></li></ul></li><li class="toc toc-level-1"><a href="#Macros">Macros</a><ul class="toc"><li class="toc toc-level-2"><a href="#def">def</a><ul class="toc"></ul></li><li class="toc toc-level-2"><a href="#invoke">invoke</a><ul class="toc"></ul></li></ul></li><li class="toc toc-level-1"><a href="#StructureManipulation">Structure Manipulation</a><ul class="toc"><li class="toc toc-level-2"><a href="#attrs">attrs</a><ul class="toc"></ul></li><li class="toc toc-level-2"><a href="#bodyContent">bodyContent</a><ul class="toc"></ul></li><li class="toc toc-level-2"><a href="#replace">replace</a><ul class="toc"></ul></li><li class="toc toc-level-2"><a href="#strip">strip</a><ul class="toc"></ul></li></ul></li></ul></li><li class="toc toc-level-0"><a href="#Taglibs">Taglibs</a><ul class="toc"><li class="toc toc-level-1"><a href="#RuntimeTagHandlers">Runtime Tag Handlers</a><ul class="toc"></ul></li><li class="toc toc-level-1"><a href="#CompileTimeTagHandlers">Compile-Time Tag Handlers</a><ul class="toc"></ul></li><li class="toc toc-level-1"><a href="#HelperFunctions">Helper Functions</a><ul class="toc"></ul></li></ul></li><li class="toc toc-level-0"><a href="#JavaScriptAPI">JavaScript API</a><ul class="toc"><li class="toc toc-level-1"><a href="#TemplateRendering">Template Rendering</a><ul class="toc"><li class="toc toc-level-2"><a href="#RenderingtoaString">Rendering to a String</a><ul class="toc"></ul></li><li class="toc toc-level-2"><a href="#RenderingtoaContext">Rendering to a Context</a><ul class="toc"></ul></li></ul></li><li class="toc toc-level-1"><a href="#TemplateCompilation">Template Compilation</a><ul class="toc"><li class="toc toc-level-2"><a href="#CompilingaTemplate">Compiling a Template</a><ul class="toc"></ul></li><li class="toc toc-level-2"><a href="#LoadingaCompiledTemplate">Loading a Compiled Template</a><ul class="toc"></ul></li></ul></li></ul></li><li class="toc toc-level-0"><a href="#SideBySideComparison">Side-By-Side Comparison</a><ul class="toc"><li class="toc toc-level-1"><a href="#RaptorTemplate">Raptor Template</a><ul class="toc"></ul></li><li class="toc toc-level-1"><a href="#DustTemplate">Dust Template</a><ul class="toc"></ul></li></ul></li></ul></div><div class="docs-content"><h1>Raptor Templates</h1><div class="section section-level-0"><h2 id="Overview">Overview</h2><div class="bd"><div class="try-it"><h1><i class="icon-play-circle icon-large"></i> <a href="/raptor-templates/try-online/">Try Raptor Templates Online</a></h1><div class="desc">Edit Raptor Templates in your browser with instant results!</div></div><p>The Raptor Templating Language is heavily inspired by <a href="http://genshi.edgewall.org/wiki/Documentation/xml-templates.html">Genshi XML Template Language</a> (a templating language for Python) with the good parts of JSP mixed in. The Raptor Templating Language borrows most of the same features from Genshi and includes a JavaScript compiler so that a template can be compiled to native JavaScript code.</p><p>Since the Raptor Templating Language borrows many of the good features of JSP, most templates will look very similar to JSP templates.</p></div></div><div class="section section-level-0"><h2 id="Introduction">Introduction</h2><div class="bd"><p>All Raptor templates are required to be well-formed XML. This constraint allows the template language to use the structure of the XML document to its advantage. For example, a template directive that controls structural logic can be applied as an attribute of the element that it controls. In addition, unlike in non-XML-based templating languages, whitespace removal rules are based on the XML structure and not a string language directives. Despite a template being well-formed XML, the output does not have to be well-formed XML which makes the Raptor Templating Language flexible enough for using in all types of web applications.</p><p>The Raptor Templating Language aims to be easy to understand by utilizing concepts that front-end developers are already familiar with such as XML/HTML and JavaScript. While the Raptor Templating Language introduces a new grammar on top of XHTML, it is not an entirely new language which reduces the learning curve.</p><div class="section section-level-1"><h2 id="SampleTemplate">Sample Template</h2><div class="bd"><p>Below is a sample Raptor HTML template:</p><textarea style="display: none;" id="s1" name="code-0"><c:template
    xmlns:c="http://raptor.ebayopensource.org/core"
    name="demo"
    params="colors">
 
    <!-- Colors available -->
    <ul c:if="notEmpty(colors)">
        <li c:for="color in colors">
            $color
        </li>
    </ul>
     
    <!-- No colors available -->
    <div c:if="empty(colors)">
        No colors!
    </div>
     
</c:template></textarea><p></p></div></div><div class="section section-level-1"><h2 id="TemplateCompilation">Template Compilation</h2><div class="bd"><p>Given the following input data:</p><textarea style="display: none;" id="s2" name="code-1">{
    colors: ["red", "green", "blue"]
}</textarea><p>The output would be the following:</p><textarea style="display: none;" id="s3" name="code-2"><ul><li>red</li><li>green</li><li>blue</li></ul></textarea><p>For comparison, given the following input data consisting of an empty array of colors:</p><textarea style="display: none;" id="s4" name="code-3">{
    colors: []
}</textarea><p>The output would be the following:</p><textarea style="display: none;" id="s5" name="code-4"><div>No colors!</div></textarea></div></div><div class="section section-level-1"><h2 id="TemplateDirectivesOverview">Template Directives Overview</h2><div class="bd"><p>Almost all of the Raptor templating directives can be used as either an attribute or as an element. The template included above can be rewritten to apply template directives as elements instead of as attributes to produce the equivalent output. For example:</p><p><table><thead><tr><td>Applying directives using attributes</td><td>Applying directives using elements</td></tr></thead><tbody><tr><td><textarea style="display: none;" id="s6" name="code-5"><c:template
    xmlns:c="http://raptor.ebayopensource.org/core"
    name="demo"
    params="colors">
 
    <!-- Colors available -->
    <ul c:if="notEmpty(colors)">
        <li c:for="color in colors">
            $color
        </li>
    </ul>
     
    <!-- No colors available -->
    <div c:if="empty(colors)">
        No colors!
    </div>
     
</c:template></textarea></td><td><textarea style="display: none;" id="s7" name="code-6"><c:template
    xmlns:c="http://raptor.ebayopensource.org/core"
    name="demo"
    params="colors">
  
    <!-- Colors available -->
    <c:if test="notEmpty(colors)">
        <ul>
            <c:for each="color in colors">
                <li>
                    $color
                </li>
            </c:for>
        </ul>
    </c:if>
      
    <!-- No colors available -->
    <c:if test="empty(colors)">
        <div>
            No colors!
        </div>
    </c:if>
     
</c:template></textarea></td></tr></tbody></table></p></div></div><div class="section section-level-1"><h2 id="Extensibility">Extensibility</h2><div class="bd"><p></p></div></div></div></div><div class="section section-level-0"><h2 id="Expressions">Expressions</h2><div class="bd"><p></p><div class="section section-level-1"><h2 id="HelperFunctions">Helper Functions</h2><div class="bd"><p></p></div></div><div class="section section-level-1"><h2 id="ExpressionEscapeSequences">Expression Escape Sequences</h2><div class="bd"><p></p></div></div><div class="section section-level-1"><h2 id="ExpressionHandlers">Expression Handlers</h2><div class="bd"><p></p></div></div></div></div><div class="section section-level-0"><h2 id="TemplateDirectives">Template Directives</h2><div class="bd"><p></p><div class="section section-level-1"><h2 id="Template">Template</h2><div class="bd"><p></p><div class="section section-level-2"><h2 id="ctemplate">&lt;c:template&gt;</h2><div class="bd"><p></p></div></div><div class="section section-level-2"><h2 id="cinclude">&lt;c:include&gt;</h2><div class="bd"><p></p></div></div></div></div><div class="section section-level-1"><h2 id="TextReplacement">Text Replacement</h2><div class="bd"><p></p><div class="section section-level-2"><h2 id="XMLEscaping">XML Escaping</h2><div class="bd"><p></p></div></div></div></div><div class="section section-level-1"><h2 id="Conditionals">Conditionals</h2><div class="bd"><p></p><div class="section section-level-2"><h2 id="if">if</h2><div class="bd"><p></p></div></div><div class="section section-level-2"><h2 id="ChooseWhenOtherwise">choose&#8230;when&#8230;otherwise</h2><div class="bd"><p></p></div></div></div></div><div class="section section-level-1"><h2 id="Looping">Looping</h2><div class="bd"><p></p><div class="section section-level-2"><h2 id="for">for</h2><div class="bd"><p></p><div class="section section-level-3"><h2 id="Loopstatusvariable">Loop status variable</h2><div class="bd"><p></p></div></div><div class="section section-level-3"><h2 id="Separator">Separator</h2><div class="bd"><p></p></div></div></div></div></div></div><div class="section section-level-1"><h2 id="Macros">Macros</h2><div class="bd"><p></p><div class="section section-level-2"><h2 id="def">def</h2><div class="bd"><p></p></div></div><div class="section section-level-2"><h2 id="invoke">invoke</h2><div class="bd"><p></p></div></div></div></div><div class="section section-level-1"><h2 id="StructureManipulation">Structure Manipulation</h2><div class="bd"><p></p><div class="section section-level-2"><h2 id="attrs">attrs</h2><div class="bd"><p></p></div></div><div class="section section-level-2"><h2 id="bodyContent">bodyContent</h2><div class="bd"><p></p></div></div><div class="section section-level-2"><h2 id="replace">replace</h2><div class="bd"><p></p></div></div><div class="section section-level-2"><h2 id="strip">strip</h2><div class="bd"><p></p></div></div></div></div></div></div><div class="section section-level-0"><h2 id="Taglibs">Taglibs</h2><div class="bd"><p></p><div class="section section-level-1"><h2 id="RuntimeTagHandlers">Runtime Tag Handlers</h2><div class="bd"><p></p> </div></div><div class="section section-level-1"><h2 id="CompileTimeTagHandlers">Compile-Time Tag Handlers</h2><div class="bd"><p></p> </div></div><div class="section section-level-1"><h2 id="HelperFunctions">Helper Functions</h2><div class="bd"><p></p> </div></div></div></div><div class="section section-level-0"><h2 id="JavaScriptAPI">JavaScript API</h2><div class="bd"><p></p><div class="section section-level-1"><h2 id="TemplateRendering">Template Rendering</h2><div class="bd"><p></p><div class="section section-level-2"><h2 id="RenderingtoaString">Rendering to a String</h2><div class="bd"><p></p> </div></div><div class="section section-level-2"><h2 id="RenderingtoaContext">Rendering to a Context</h2><div class="bd"><p></p> </div></div></div></div><div class="section section-level-1"><h2 id="TemplateCompilation">Template Compilation</h2><div class="bd"><p></p><div class="section section-level-2"><h2 id="CompilingaTemplate">Compiling a Template</h2><div class="bd"><p></p> </div></div><div class="section section-level-2"><h2 id="LoadingaCompiledTemplate">Loading a Compiled Template</h2><div class="bd"><p></p> </div></div></div></div></div></div><div class="section section-level-0"><h2 id="SideBySideComparison">Side-By-Side Comparison</h2><div class="bd"><p></p><div class="section section-level-1"><h2 id="RaptorTemplate">Raptor Template</h2><div class="bd"><p></p></div></div><div class="section section-level-1"><h2 id="DustTemplate">Dust Template</h2><div class="bd"><p></p></div></div></div></div></div></div><div class="docs-footer"></div></div></div><div style="clear: both"></div><div class="footer"><div class="container"><div class="bd"><div class="powered-by">Powered by <a href="/" class="raptorjs">RaptorJS</a></div></div></div></div><script type="text/javascript" src="../static/core-body-b84f1bcd.js"></script>
<script type="text/javascript" src="../static/jquery-body-371da524.js"></script>
<script type="text/javascript" src="../static/bootstrap-body-34d7fcf3.js"></script>
<script type="text/javascript" src="../static/page-raptor-templates-index-body-5c8199eb.js"></script>
<script type="text/javascript" src="../static/code-editor-body-c09ad78d.js"></script><script type="text/javascript">$rwidgets(["components.nav.Nav.NavWidget","s0",0,0,{}],["components.editors.CodeEditor.CodeEditorWidget","s1",0,0,{"mode":"xml","autoResize":true,"readOnly":true}],["components.editors.CodeEditor.CodeEditorWidget","s2",0,0,{"mode":"javascript","autoResize":true,"readOnly":true}],["components.editors.CodeEditor.CodeEditorWidget","s3",0,0,{"mode":"xml","autoResize":true,"readOnly":true}],["components.editors.CodeEditor.CodeEditorWidget","s4",0,0,{"mode":"javascript","autoResize":true,"readOnly":true}],["components.editors.CodeEditor.CodeEditorWidget","s5",0,0,{"mode":"xml","autoResize":true,"readOnly":true}],["components.editors.CodeEditor.CodeEditorWidget","s6",0,0,{"mode":"xml","autoResize":true,"readOnly":true}],["components.editors.CodeEditor.CodeEditorWidget","s7",0,0,{"mode":"xml","autoResize":true,"readOnly":true}]);</script></body></html>