<optimizer-config>
    
    <params>
        <profile>development</profile>
    </params>
    
    <set-profile>${profile}</set-profile>
    
    <profile name="development">
        <raptor-config>
        {
            logging: {
                loggers: {
                    'ROOT': {level: 'DEBUG'}
                }
            }
        }
        </raptor-config>
        <enabled-extensions>jquery,browser,logging.console</enabled-extensions>
        <bundling-enabled>false</bundling-enabled>
        
        <in-place-deployment>
            <enabled>true</enabled>
            <source-mapping base-dir="." base-url="/src"/>
            <source-mapping base-dir="../../../../src/main/resources/META-INF/resources/raptor_modules" base-url="/src-core"/>
        </in-place-deployment>

        <resource-url-prefix>/bundles/</resource-url-prefix>
        <minify-js>false</minify-js>
        <checksums-enabled>false</checksums-enabled>
        <watch-files-enabled>true</watch-files-enabled>
    </profile>
    
    <profile name="production">
        <checksums-enabled>true</checksums-enabled>
        <enabled-extensions>jquery,browser</enabled-extensions>
        <bundling-enabled>true</bundling-enabled>
        <in-place-deployment-enabled>false</in-place-deployment-enabled>
        <minify-js>true</minify-js>
        <resource-url-prefix>/bundles/</resource-url-prefix>
        <raptor-config>
        {
        }
        </raptor-config>
        <watch-config-enabled>true</watch-config-enabled>
    </profile>
   
    <resource-search-path>
        <dir path="raptor_modules"/>
    </resource-search-path>
    
    <page-search-path>
        <dir path="pages"/>
    </page-search-path>

    <clean-dirs>
        <dir path="build"/>
    </clean-dirs>

    <bundles-output-dir>build/static/bundles</bundles-output-dir>

    <bundles name="default">
        <bundle name="core">
            <module name="core" recursive="true"/>
            <init-raptor/>
        </bundle>
        <bundle name="templating">
            <module name="templating" recursive="true"/>
        </bundle>
    </bundles>
    
</optimizer-config>