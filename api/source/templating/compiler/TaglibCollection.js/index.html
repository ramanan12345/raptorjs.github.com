<!DOCTYPE html><html><head><base href="../../../.."></base><title>Source for /templating/compiler/TaglibCollection.js â€” RaptorJS API</title><meta http-equiv="content-type" content="text/html; charset=UTF-8"><link rel="stylesheet" type="text/css" href="static/jsdoc-head-9bd4c4d1.css">
<link rel="stylesheet" type="text/css" href="static/type-head-4435b72e.css"></head></html><body><body><div id="nav"><div class="nav jstree-classic" style="visibility: hidden;" id="s0"><div id="search-form"><div class="body"><input type="text" id="searchInput" size="20" value="Search API docs" autocomplete="off" class="ac_input"></div></div><div id="navTree" class="jstree-no-dots"><ul><li id="nav_package_json" class="package"><a href="./source/package.json/">package.json</a> </li><li id="nav_amd" class="raptor-module"><a href="./amd/">amd (Node Extension)</a> </li><li id="nav_arrays" class="raptor-module"><a href="./arrays/">arrays</a><ul><li id="nav_arrays_package_json" class="package"><a href="./source/arrays/package.json/">package.json</a> </li></ul> </li><li id="nav_bootstrap" class="folder"><a href="#">bootstrap</a><ul><li id="nav_bootstrap_package_json" class="package"><a href="./source/bootstrap/package.json/">package.json</a> </li></ul> </li><li id="nav_config" class="raptor-module"><a href="./config/">config</a><ul><li id="nav_config_package_json" class="package"><a href="./source/config/package.json/">package.json</a> </li><li id="nav_config_Config" class="class"><a href="./config.Config/">Config</a> </li></ul> </li><li id="nav_console" class="folder"><a href="#">console</a><ul><li id="nav_console_package_json" class="package"><a href="./source/console/package.json/">package.json</a> </li></ul> </li><li id="nav_core" class="folder"><a href="#">core</a><ul><li id="nav_core_package_json" class="package"><a href="./source/core/package.json/">package.json</a> </li></ul> </li><li id="nav_css-minifier" class="raptor-module"><a href="./css-minifier/">css-minifier</a><ul><li id="nav_css-minifier_package_json" class="package"><a href="./source/css-minifier/package.json/">package.json</a> </li><li id="nav_css-minifier_Node" class="object extension"><a href="./css-minifier_Node/">Node Extension</a> </li></ul> </li><li id="nav_css-parser" class="raptor-module"><a href="./css-parser/">css-parser</a> </li><li id="nav_debug" class="raptor-module"><a href="./debug/">debug</a><ul><li id="nav_debug_package_json" class="package"><a href="./source/debug/package.json/">package.json</a> </li></ul> </li><li id="nav_ecma" class="folder"><a href="#">ecma</a><ul><li id="nav_ecma_es5" class="folder"><a href="#">es5</a><ul><li id="nav_ecma_es5_package_json" class="package"><a href="./source/ecma/es5/package.json/">package.json</a> </li></ul> </li><li id="nav_ecma_JSON" class="object"><a href="./ecma.JSON/">JSON</a><ul><li id="nav_ecma_JSON_package_json" class="package"><a href="./source/ecma/JSON/package.json/">package.json</a> </li></ul> </li></ul> </li><li id="nav_errors" class="folder"><a href="#">errors</a><ul><li id="nav_errors_package_json" class="package"><a href="./source/errors/package.json/">package.json</a> </li></ul> </li><li id="nav_file-watcher" class="raptor-module"><a href="./file-watcher/">file-watcher</a><ul><li id="nav_file-watcher_package_json" class="package"><a href="./source/file-watcher/package.json/">package.json</a> </li></ul> </li><li id="nav_files" class="raptor-module"><a href="./files/">files</a><ul><li id="nav_files_package_json" class="package"><a href="./source/files/package.json/">package.json</a> </li><li id="nav_files_Node" class="object extension"><a href="./files_Node/">Node Extension</a> </li><li id="nav_files_walker" class="raptor-module"><a href="./files.walker/">walker</a><ul><li id="nav_files_walker_package_json" class="package"><a href="./source/files/walker/package.json/">package.json</a> </li><li id="nav_files_walker_DirWalker" class="raptor-class"><a href="./files.walker.DirWalker/">DirWalker</a> </li></ul> </li><li id="nav_files_File" class="raptor-class"><a href="./files.File/">File</a> </li><li id="nav_files_File_node" class="class"><a href="./files.File_node/">File (Node Extension)</a> </li></ul> </li><li id="nav_http" class="raptor-module"><a href="./http/">http</a><ul><li id="nav_http_package_json" class="package"><a href="./source/http/package.json/">package.json</a> </li><li id="nav_http_Request" class="raptor-class"><a href="./http.Request/">Request</a> </li><li id="nav_http_Response" class="raptor-class"><a href="./http.Response/">Response</a> </li></ul> </li><li id="nav_java" class="raptor-module"><a href="./java/">java</a><ul><li id="nav_java_package_json" class="package"><a href="./source/java/package.json/">package.json</a> </li></ul> </li><li id="nav_js-minifier" class="raptor-module"><a href="./js-minifier/">js-minifier</a><ul><li id="nav_js-minifier_package_json" class="package"><a href="./source/js-minifier/package.json/">package.json</a> </li><li id="nav_js-minifier_Node" class="object extension"><a href="./js-minifier_Node/">Node Extension</a> </li></ul> </li><li id="nav_jsdoc" class="raptor-module"><a href="./jsdoc/">jsdoc</a><ul><li id="nav_jsdoc_package_json" class="package"><a href="./source/jsdoc/package.json/">package.json</a> </li><li id="nav_jsdoc_raptor-plugin" class="raptor-module"><a href="./jsdoc.raptor-plugin/">raptor-plugin</a> </li><li id="nav_jsdoc_ASTWalker" class="raptor-class"><a href="./jsdoc.ASTWalker/">ASTWalker</a> </li><li id="nav_jsdoc_BorrowTag" class="raptor-class"><a href="./jsdoc.BorrowTag/">BorrowTag</a> </li><li id="nav_jsdoc_Comment" class="raptor-class"><a href="./jsdoc.Comment/">Comment</a> </li><li id="nav_jsdoc_CommentParser" class="raptor-class"><a href="./jsdoc.CommentParser/">CommentParser</a> </li><li id="nav_jsdoc_Environment" class="raptor-class"><a href="./jsdoc.Environment/">Environment</a> </li><li id="nav_jsdoc_ParamTag" class="raptor-class"><a href="./jsdoc.ParamTag/">ParamTag</a> </li><li id="nav_jsdoc_ReturnTag" class="raptor-class"><a href="./jsdoc.ReturnTag/">ReturnTag</a> </li><li id="nav_jsdoc_SymbolSet" class="raptor-class"><a href="./jsdoc.SymbolSet/">SymbolSet</a> </li><li id="nav_jsdoc_Tag" class="raptor-class"><a href="./jsdoc.Tag/">Tag</a> </li><li id="nav_jsdoc_Type" class="raptor-class"><a href="./jsdoc.Type/">Type</a> </li></ul> </li><li id="nav_json" class="raptor-module"><a href="./json/">json</a><ul><li id="nav_json_package_json" class="package"><a href="./source/json/package.json/">package.json</a> </li><li id="nav_json_jQuery_Parse" class="object extension"><a href="./json_jQuery_Parse/">jQuery Parse Extension</a> </li><li id="nav_json_Raptor_Parse" class="object extension"><a href="./json_Raptor_Parse/">Raptor Parse Extension</a> </li><li id="nav_json_Raptor_Stringify" class="object extension"><a href="./json_Raptor_Stringify/">Raptor Stringify Extension</a> </li><li id="nav_json_parse" class="raptor-module"><a href="./json.parse/">parse</a><ul><li id="nav_json_parse_package_json" class="package"><a href="./source/json/parse/package.json/">package.json</a> </li></ul> </li><li id="nav_json_stringify" class="raptor-module"><a href="./json.stringify/">stringify</a><ul><li id="nav_json_stringify_package_json" class="package"><a href="./source/json/stringify/package.json/">package.json</a> </li></ul> </li></ul> </li><li id="nav_listeners" class="raptor-module"><a href="./listeners/">listeners</a><ul><li id="nav_listeners_package_json" class="package"><a href="./source/listeners/package.json/">package.json</a> </li><li id="nav_listeners_ListenerHandle" class="object"><a href="./listeners.ListenerHandle/">ListenerHandle</a> </li><li id="nav_listeners_Listeners" class="class"><a href="./listeners.Listeners/">Listeners</a> </li><li id="nav_listeners_Message" class="class"><a href="./listeners.Message/">Message</a> </li><li id="nav_listeners_Observable" class="class"><a href="./listeners.Observable/">Observable</a> </li><li id="nav_listeners_ObservableListenerHandle" class="object"><a href="./listeners.ObservableListenerHandle/">ObservableListenerHandle</a> </li></ul> </li><li id="nav_loader" class="raptor-module"><a href="./loader/">loader</a><ul><li id="nav_loader_package_json" class="package"><a href="./source/loader/package.json/">package.json</a> </li><li id="nav_loader_Browser" class="object extension"><a href="./loader_Browser/">Browser Extension</a> </li><li id="nav_loader_jQuery" class="object extension"><a href="./loader_jQuery/">jQuery Extension</a> </li><li id="nav_loader_Module_Loader" class="object extension"><a href="./loader_Module_Loader/">Module Loader Extension</a> </li><li id="nav_loader_Raptor" class="object extension"><a href="./loader_Raptor/">Raptor Extension</a> </li><li id="nav_loader_require" class="folder"><a href="#">require</a><ul><li id="nav_loader_require_package_json" class="package"><a href="./source/loader/require/package.json/">package.json</a> </li></ul> </li><li id="nav_loader_requires" class="folder"><a href="#">requires</a><ul><li id="nav_loader_requires_package_json" class="package"><a href="./source/loader/requires/package.json/">package.json</a> </li></ul> </li><li id="nav_loader_Transaction" class="object"><a href="./loader.Transaction/">Transaction</a> </li></ul> </li><li id="nav_locale" class="folder"><a href="#">locale</a><ul><li id="nav_locale_formatting" class="folder"><a href="#">formatting</a><ul><li id="nav_locale_formatting_numbers" class="raptor-module"><a href="./locale.formatting.numbers/">numbers</a><ul><li id="nav_locale_formatting_numbers_package_json" class="package"><a href="./source/locale/formatting/numbers/package.json/">package.json</a> </li><li id="nav_locale_formatting_numbers_NumberFormatter" class="class"><a href="./locale.formatting.numbers.NumberFormatter/">NumberFormatter</a> </li></ul> </li></ul> </li></ul> </li><li id="nav_logging" class="raptor-module"><a href="./logging/">logging</a><ul><li id="nav_logging_package_json" class="package"><a href="./source/logging/package.json/">package.json</a> </li><li id="nav_logging_Console" class="object extension"><a href="./logging_Console/">Console Extension</a> </li><li id="nav_logging_ConsoleLogger" class="class"><a href="./logging.ConsoleLogger/">ConsoleLogger</a> </li><li id="nav_logging_LogHelper" class="class"><a href="./logging.LogHelper/">LogHelper</a> </li><li id="nav_logging_voidLogger" class="object"><a href="./logging.voidLogger/">voidLogger</a> </li></ul> </li><li id="nav_mime" class="raptor-module"><a href="./mime/">mime</a><ul><li id="nav_mime_package_json" class="package"><a href="./source/mime/package.json/">package.json</a> </li><li id="nav_mime_Node" class="object extension"><a href="./mime_Node/">Node Extension</a> </li></ul> </li><li id="nav_objects" class="raptor-module"><a href="./objects/">objects</a><ul><li id="nav_objects_package_json" class="package"><a href="./source/objects/package.json/">package.json</a> </li></ul> </li><li id="nav_oop" class="raptor-module"><a href="./oop/">oop</a><ul><li id="nav_oop_package_json" class="package"><a href="./source/oop/package.json/">package.json</a> </li><li id="nav_oop_Server" class="object extension"><a href="./oop_Server/">Server Extension</a> </li><li id="nav_oop_objects" class="folder"><a href="#">objects</a><ul><li id="nav_oop_objects_package_json" class="package"><a href="./source/oop/objects/package.json/">package.json</a> </li></ul> </li></ul> </li><li id="nav_optimizer" class="raptor-module"><a href="./optimizer/">optimizer</a><ul><li id="nav_optimizer_cli" class="raptor-module"><a href="./optimizer.cli/">cli</a><ul><li id="nav_optimizer_cli_package_json" class="package"><a href="./source/optimizer/cli/package.json/">package.json</a> </li></ul> </li><li id="nav_optimizer_MinifyCSSFilter" class="raptor-module"><a href="./optimizer.MinifyCSSFilter/">MinifyCSSFilter</a> </li><li id="nav_optimizer_MinifyJSFilter" class="raptor-module"><a href="./optimizer.MinifyJSFilter/">MinifyJSFilter</a> </li><li id="nav_optimizer_ResolveCSSUrlsFilter" class="raptor-module"><a href="./optimizer.ResolveCSSUrlsFilter/">ResolveCSSUrlsFilter</a> </li><li id="nav_optimizer_Bundle" class="raptor-class"><a href="./optimizer.Bundle/">Bundle</a> </li><li id="nav_optimizer_BundleConfig" class="raptor-class"><a href="./optimizer.BundleConfig/">BundleConfig</a> </li><li id="nav_optimizer_BundleMappings" class="raptor-class"><a href="./optimizer.BundleMappings/">BundleMappings</a> </li><li id="nav_optimizer_BundleSetConfig" class="raptor-class"><a href="./optimizer.BundleSetConfig/">BundleSetConfig</a> </li><li id="nav_optimizer_BundlesFileWriter" class="raptor-class"><a href="./optimizer.BundlesFileWriter/">BundlesFileWriter</a> </li><li id="nav_optimizer_BundlesWriter" class="raptor-class"><a href="./optimizer.BundlesWriter/">BundlesWriter</a> </li><li id="nav_optimizer_BundleUrlBuilder" class="raptor-class"><a href="./optimizer.BundleUrlBuilder/">BundleUrlBuilder</a> </li><li id="nav_optimizer_Cache" class="raptor-class"><a href="./optimizer.Cache/">Cache</a> </li><li id="nav_optimizer_Config" class="raptor-class"><a href="./optimizer.Config/">Config</a> </li><li id="nav_optimizer_ConfigXmlParser" class="raptor-class"><a href="./optimizer.ConfigXmlParser/">ConfigXmlParser</a> </li><li id="nav_optimizer_HtmlInjector" class="raptor-class"><a href="./optimizer.HtmlInjector/">HtmlInjector</a> </li><li id="nav_optimizer_OptimizedPage" class="raptor-class"><a href="./optimizer.OptimizedPage/">OptimizedPage</a> </li><li id="nav_optimizer_PageBundles" class="raptor-class"><a href="./optimizer.PageBundles/">PageBundles</a><ul><li id="nav_optimizer_PageBundles_AsyncRequire" class="class"><a href="./optimizer.PageBundles.AsyncRequire/">AsyncRequire</a> </li></ul> </li><li id="nav_optimizer_PageConfig" class="raptor-class"><a href="./optimizer.PageConfig/">PageConfig</a> </li><li id="nav_optimizer_PageOptimizer" class="raptor-class"><a href="./optimizer.PageOptimizer/">PageOptimizer</a> </li></ul> </li><li id="nav_packaging" class="raptor-module"><a href="./packaging/">packaging</a><ul><li id="nav_packaging_package_json" class="package"><a href="./source/packaging/package.json/">package.json</a> </li><li id="nav_packaging_Rhino" class="object extension"><a href="./packaging_Rhino/">Rhino Extension</a> </li><li id="nav_packaging_ExtensionCollection" class="raptor-module"><a href="./packaging.ExtensionCollection/">ExtensionCollection</a> </li><li id="nav_packaging_Dependency" class="raptor-class"><a href="./packaging.Dependency/">Dependency</a> </li><li id="nav_packaging_Dependency_4cc" class="raptor-class"><a href="./packaging.Dependency_4cc/">Dependency_4cc</a> </li><li id="nav_packaging_Dependency_css" class="raptor-class"><a href="./packaging.Dependency_css/">Dependency_css</a> </li><li id="nav_packaging_Dependency_dust" class="raptor-class"><a href="./packaging.Dependency_dust/">Dependency_dust</a> </li><li id="nav_packaging_Dependency_init-raptor" class="raptor-class"><a href="./packaging.Dependency_init-raptor/">Dependency_init-raptor</a> </li><li id="nav_packaging_Dependency_js" class="raptor-class"><a href="./packaging.Dependency_js/">Dependency_js</a> </li><li id="nav_packaging_Dependency_less" class="raptor-class"><a href="./packaging.Dependency_less/">Dependency_less</a> </li><li id="nav_packaging_Dependency_loader-metadata" class="raptor-class"><a href="./packaging.Dependency_loader-metadata/">Dependency_loader-metadata</a> </li><li id="nav_packaging_Dependency_module" class="raptor-class"><a href="./packaging.Dependency_module/">Dependency_module</a> </li><li id="nav_packaging_Dependency_package" class="raptor-class"><a href="./packaging.Dependency_package/">Dependency_package</a> </li><li id="nav_packaging_Dependency_resource" class="raptor-class"><a href="./packaging.Dependency_resource/">Dependency_resource</a> </li><li id="nav_packaging_Dependency_rhtml" class="raptor-class"><a href="./packaging.Dependency_rhtml/">Dependency_rhtml</a> </li><li id="nav_packaging_Dependency_rtld" class="raptor-class"><a href="./packaging.Dependency_rtld/">Dependency_rtld</a> </li></ul> </li><li id="nav_paths" class="raptor-module"><a href="./paths/">paths</a><ul><li id="nav_paths_package_json" class="package"><a href="./source/paths/package.json/">package.json</a> </li></ul> </li><li id="nav_process" class="raptor-module"><a href="./process/">process</a><ul><li id="nav_process_package_json" class="package"><a href="./source/process/package.json/">package.json</a> </li><li id="nav_process__Node" class="object extension"><a href="./process__Node/"> Node Extension</a> </li></ul> </li><li id="nav_pubsub" class="raptor-module"><a href="./pubsub/">pubsub</a><ul><li id="nav_pubsub_package_json" class="package"><a href="./source/pubsub/package.json/">package.json</a> </li><li id="nav_pubsub_Channel" class="raptor-class"><a href="./pubsub.Channel/">Channel</a> </li><li id="nav_pubsub_Message" class="class"><a href="./pubsub.Message/">Message</a> </li></ul> </li><li id="nav_raptor" class="raptor-module"><a href="./raptor/">raptor</a> </li><li id="nav_raptorBuilder" class="folder"><a href="#">raptorBuilder</a><ul><li id="nav_raptorBuilder_package_json" class="package"><a href="./source/raptorBuilder/package.json/">package.json</a> </li></ul> </li><li id="nav_regexp" class="raptor-module"><a href="./regexp/">regexp</a><ul><li id="nav_regexp_package_json" class="package"><a href="./source/regexp/package.json/">package.json</a> </li></ul> </li><li id="nav_resources" class="raptor-module"><a href="./resources/">resources</a><ul><li id="nav_resources_package_json" class="package"><a href="./source/resources/package.json/">package.json</a> </li><li id="nav_resources_Server" class="object extension"><a href="./resources_Server/">Server Extension</a> </li><li id="nav_resources_walker" class="raptor-module"><a href="./resources.walker/">walker</a><ul><li id="nav_resources_walker_package_json" class="package"><a href="./source/resources/walker/package.json/">package.json</a> </li><li id="nav_resources_walker_DirWalker" class="raptor-class"><a href="./resources.walker.DirWalker/">DirWalker</a> </li></ul> </li><li id="nav_resources_BrowserResource" class="raptor-class"><a href="./resources.BrowserResource/">BrowserResource</a> </li><li id="nav_resources_DirSearchPathEntry" class="raptor-class"><a href="./resources.DirSearchPathEntry/">DirSearchPathEntry</a> </li><li id="nav_resources_FileResource" class="raptor-class"><a href="./resources.FileResource/">FileResource</a> </li><li id="nav_resources_MissingResource" class="raptor-class"><a href="./resources.MissingResource/">MissingResource</a> </li><li id="nav_resources_Resource" class="raptor-class"><a href="./resources.Resource/">Resource</a> </li><li id="nav_resources_RhinoResMgrSearchPathEntryAdapter" class="raptor-class"><a href="./resources.RhinoResMgrSearchPathEntryAdapter/">RhinoResMgrSearchPathEntryAdapter</a> </li><li id="nav_resources_RhinoResourceAdapter" class="raptor-class"><a href="./resources.RhinoResourceAdapter/">RhinoResourceAdapter</a> </li><li id="nav_resources_RhinoSearchPathEntryAdapter" class="raptor-class"><a href="./resources.RhinoSearchPathEntryAdapter/">RhinoSearchPathEntryAdapter</a> </li><li id="nav_resources_SearchPath" class="raptor-class"><a href="./resources.SearchPath/">SearchPath</a> </li><li id="nav_resources_SearchPathEntry" class="raptor-class"><a href="./resources.SearchPathEntry/">SearchPathEntry</a> </li></ul> </li><li id="nav_runtime" class="raptor-module"><a href="./runtime/">runtime</a><ul><li id="nav_runtime_package_json" class="package"><a href="./source/runtime/package.json/">package.json</a> </li></ul> </li><li id="nav_stacktraces" class="raptor-module"><a href="./stacktraces/">stacktraces</a><ul><li id="nav_stacktraces_package_json" class="package"><a href="./source/stacktraces/package.json/">package.json</a> </li></ul> </li><li id="nav_strings" class="raptor-module"><a href="./strings/">strings</a><ul><li id="nav_strings_package_json" class="package"><a href="./source/strings/package.json/">package.json</a> </li><li id="nav_strings_StringBuilder" class="object extension"><a href="./strings_StringBuilder/">StringBuilder Extension</a> </li></ul> </li><li id="nav_templating" class="raptor-module"><a href="./templating/">templating</a><ul><li id="nav_templating_package_json" class="package"><a href="./source/templating/package.json/">package.json</a> </li><li id="nav_templating_Rhino" class="object extension"><a href="./templating_Rhino/">Rhino Extension</a> </li><li id="nav_templating_Server" class="object extension"><a href="./templating_Server/">Server Extension</a> </li><li id="nav_templating_compiler" class="raptor-module"><a href="./templating.compiler/">compiler</a><ul><li id="nav_templating_compiler_package_json" class="package"><a href="./source/templating/compiler/package.json/">package.json</a> </li><li id="nav_templating_compiler_Rhino" class="object extension"><a href="./templating.compiler_Rhino/">Rhino Extension</a> </li><li id="nav_templating_compiler_Server" class="object extension"><a href="./templating.compiler_Server/">Server Extension</a> </li><li id="nav_templating_compiler_AttributeSplitter" class="raptor-class"><a href="./templating.compiler.AttributeSplitter/">AttributeSplitter</a> </li><li id="nav_templating_compiler_ElementNode" class="raptor-class"><a href="./templating.compiler.ElementNode/">ElementNode</a> </li><li id="nav_templating_compiler_Expression" class="raptor-class"><a href="./templating.compiler.Expression/">Expression</a> </li><li id="nav_templating_compiler_ExpressionParser" class="raptor-class"><a href="./templating.compiler.ExpressionParser/">ExpressionParser</a><ul><li id="nav_templating_compiler_ExpressionParser_ExpressionParserHelper" class="raptor-class"><a href="./templating.compiler.ExpressionParser.ExpressionParserHelper/">ExpressionParserHelper</a> </li></ul> </li><li id="nav_templating_compiler_Node" class="raptor-class"><a href="./templating.compiler.Node/">Node</a> </li><li id="nav_templating_compiler_ParseTreeBuilder" class="raptor-class"><a href="./templating.compiler.ParseTreeBuilder/">ParseTreeBuilder</a> </li><li id="nav_templating_compiler_Taglib" class="raptor-class"><a href="./templating.compiler.Taglib/">Taglib</a> </li><li id="nav_templating_compiler_TaglibCollection" class="raptor-class"><a href="./templating.compiler.TaglibCollection/">TaglibCollection</a><ul><li id="nav_templating_compiler_TaglibCollection_Imports" class="class"><a href="./templating.compiler.TaglibCollection.Imports/">Imports</a> </li><li id="nav_templating_compiler_TaglibCollection_Tag" class="raptor-class"><a href="./templating.compiler.TaglibCollection.Tag/">Tag</a> </li><li id="nav_templating_compiler_TaglibCollection_Transformer" class="raptor-class"><a href="./templating.compiler.TaglibCollection.Transformer/">Transformer</a> </li></ul> </li><li id="nav_templating_compiler_TaglibXmlLoader" class="raptor-class"><a href="./templating.compiler.TaglibXmlLoader/">TaglibXmlLoader</a><ul><li id="nav_templating_compiler_TaglibXmlLoader_Attribute" class="raptor-class"><a href="./templating.compiler.TaglibXmlLoader.Attribute/">Attribute</a> </li><li id="nav_templating_compiler_TaglibXmlLoader_Function" class="raptor-class"><a href="./templating.compiler.TaglibXmlLoader.Function/">Function</a> </li><li id="nav_templating_compiler_TaglibXmlLoader_ImportedVariable" class="raptor-class"><a href="./templating.compiler.TaglibXmlLoader.ImportedVariable/">ImportedVariable</a> </li><li id="nav_templating_compiler_TaglibXmlLoader_NestedVariable" class="raptor-class"><a href="./templating.compiler.TaglibXmlLoader.NestedVariable/">NestedVariable</a> </li><li id="nav_templating_compiler_TaglibXmlLoader_Tag" class="raptor-class"><a href="./templating.compiler.TaglibXmlLoader.Tag/">Tag</a> </li><li id="nav_templating_compiler_TaglibXmlLoader_Transformer" class="raptor-class"><a href="./templating.compiler.TaglibXmlLoader.Transformer/">Transformer</a> </li></ul> </li><li id="nav_templating_compiler_TemplateBuilder" class="raptor-class"><a href="./templating.compiler.TemplateBuilder/">TemplateBuilder</a><ul><li id="nav_templating_compiler_TemplateBuilder_CodeWriter" class="class"><a href="./templating.compiler.TemplateBuilder.CodeWriter/">CodeWriter</a> </li></ul> </li><li id="nav_templating_compiler_TemplateCompiler" class="raptor-class"><a href="./templating.compiler.TemplateCompiler/">TemplateCompiler</a> </li><li id="nav_templating_compiler_TextNode" class="raptor-class"><a href="./templating.compiler.TextNode/">TextNode</a> </li><li id="nav_templating_compiler_TypeConverter" class="raptor-class"><a href="./templating.compiler.TypeConverter/">TypeConverter</a> </li></ul> </li><li id="nav_templating_taglibs" class="folder"><a href="#">taglibs</a><ul><li id="nav_templating_taglibs_core" class="folder"><a href="#">core</a><ul><li id="nav_templating_taglibs_core_compile-time-package_json" class="package"><a href="./source/templating/taglibs/core/compile-time-package.json/">compile-time-package.json</a> </li><li id="nav_templating_taglibs_core_AssignNode" class="raptor-class"><a href="./templating.taglibs.core.AssignNode/">AssignNode</a> </li><li id="nav_templating_taglibs_core_ChooseNode" class="raptor-class"><a href="./templating.taglibs.core.ChooseNode/">ChooseNode</a> </li><li id="nav_templating_taglibs_core_CoreTagTransformer" class="raptor-class"><a href="./templating.taglibs.core.CoreTagTransformer/">CoreTagTransformer</a> </li><li id="nav_templating_taglibs_core_CoreTextTransformer" class="raptor-class"><a href="./templating.taglibs.core.CoreTextTransformer/">CoreTextTransformer</a> </li><li id="nav_templating_taglibs_core_DefNode" class="raptor-class"><a href="./templating.taglibs.core.DefNode/">DefNode</a> </li><li id="nav_templating_taglibs_core_ElseIfNode" class="raptor-class"><a href="./templating.taglibs.core.ElseIfNode/">ElseIfNode</a> </li><li id="nav_templating_taglibs_core_ElseNode" class="raptor-class"><a href="./templating.taglibs.core.ElseNode/">ElseNode</a> </li><li id="nav_templating_taglibs_core_ElseTagTransformer" class="raptor-class"><a href="./templating.taglibs.core.ElseTagTransformer/">ElseTagTransformer</a> </li><li id="nav_templating_taglibs_core_ForNode" class="raptor-class"><a href="./templating.taglibs.core.ForNode/">ForNode</a> </li><li id="nav_templating_taglibs_core_IfNode" class="raptor-class"><a href="./templating.taglibs.core.IfNode/">IfNode</a> </li><li id="nav_templating_taglibs_core_IncludeNode" class="raptor-class"><a href="./templating.taglibs.core.IncludeNode/">IncludeNode</a> </li><li id="nav_templating_taglibs_core_InvokeNode" class="raptor-class"><a href="./templating.taglibs.core.InvokeNode/">InvokeNode</a> </li><li id="nav_templating_taglibs_core_OtherwiseNode" class="raptor-class"><a href="./templating.taglibs.core.OtherwiseNode/">OtherwiseNode</a> </li><li id="nav_templating_taglibs_core_ScriptletNode" class="raptor-class"><a href="./templating.taglibs.core.ScriptletNode/">ScriptletNode</a> </li><li id="nav_templating_taglibs_core_TagHandlerNode" class="raptor-class"><a href="./templating.taglibs.core.TagHandlerNode/">TagHandlerNode</a> </li><li id="nav_templating_taglibs_core_TemplateNode" class="raptor-class"><a href="./templating.taglibs.core.TemplateNode/">TemplateNode</a> </li><li id="nav_templating_taglibs_core_VarNode" class="raptor-class"><a href="./templating.taglibs.core.VarNode/">VarNode</a> </li><li id="nav_templating_taglibs_core_WhenNode" class="raptor-class"><a href="./templating.taglibs.core.WhenNode/">WhenNode</a> </li><li id="nav_templating_taglibs_core_WithNode" class="raptor-class"><a href="./templating.taglibs.core.WithNode/">WithNode</a> </li><li id="nav_templating_taglibs_core_WriteNode" class="raptor-class"><a href="./templating.taglibs.core.WriteNode/">WriteNode</a> </li></ul> </li><li id="nav_templating_taglibs_html" class="folder"><a href="#">html</a><ul><li id="nav_templating_taglibs_html_compile-time-package_json" class="package"><a href="./source/templating/taglibs/html/compile-time-package.json/">compile-time-package.json</a> </li><li id="nav_templating_taglibs_html_DocTypeNode" class="raptor-class"><a href="./templating.taglibs.html.DocTypeNode/">DocTypeNode</a> </li><li id="nav_templating_taglibs_html_HtmlTagTransformer" class="raptor-class"><a href="./templating.taglibs.html.HtmlTagTransformer/">HtmlTagTransformer</a> </li></ul> </li><li id="nav_templating_taglibs_optimizer" class="folder"><a href="#">optimizer</a><ul><li id="nav_templating_taglibs_optimizer_DisableExtensionTag" class="raptor-module"><a href="./templating.taglibs.optimizer.DisableExtensionTag/">DisableExtensionTag</a> </li><li id="nav_templating_taglibs_optimizer_EnableExtensionTag" class="raptor-module"><a href="./templating.taglibs.optimizer.EnableExtensionTag/">EnableExtensionTag</a> </li><li id="nav_templating_taglibs_optimizer_PageTag" class="raptor-module"><a href="./templating.taglibs.optimizer.PageTag/">PageTag</a> </li><li id="nav_templating_taglibs_optimizer_PageTagTransformer" class="raptor-module"><a href="./templating.taglibs.optimizer.PageTagTransformer/">PageTagTransformer</a> </li><li id="nav_templating_taglibs_optimizer_SlotTag" class="raptor-module"><a href="./templating.taglibs.optimizer.SlotTag/">SlotTag</a> </li></ul> </li><li id="nav_templating_taglibs_widgets" class="folder"><a href="#">widgets</a><ul><li id="nav_templating_taglibs_widgets_compile-time-package_json" class="package"><a href="./source/templating/taglibs/widgets/compile-time-package.json/">compile-time-package.json</a> </li><li id="nav_templating_taglibs_widgets_InitWidgetsTag" class="raptor-class"><a href="./templating.taglibs.widgets.InitWidgetsTag/">InitWidgetsTag</a> </li><li id="nav_templating_taglibs_widgets_WidgetsTagTransformer" class="raptor-class"><a href="./templating.taglibs.widgets.WidgetsTagTransformer/">WidgetsTagTransformer</a> </li><li id="nav_templating_taglibs_widgets_WidgetTag" class="raptor-class"><a href="./templating.taglibs.widgets.WidgetTag/">WidgetTag</a> </li></ul> </li></ul> </li><li id="nav_templating_Context" class="raptor-class"><a href="./templating.Context/">Context</a> </li></ul> </li><li id="nav_widgets" class="raptor-module"><a href="./widgets/">widgets</a><ul><li id="nav_widgets_package_json" class="package"><a href="./source/widgets/package.json/">package.json</a> </li><li id="nav_widgets_Browser" class="object extension"><a href="./widgets_Browser/">Browser Extension</a> </li><li id="nav_widgets_Rhino" class="object extension"><a href="./widgets_Rhino/">Rhino Extension</a> </li><li id="nav_widgets_Server" class="object extension"><a href="./widgets_Server/">Server Extension</a> </li><li id="nav_widgets_Widget" class="raptor-mixin"><a href="./widgets.Widget/">Widget</a><ul><li id="nav_widgets_Widget_jQuery" class="object extension"><a href="./widgets.Widget_jQuery/">jQuery Extension</a> </li></ul> </li><li id="nav_widgets_WidgetDef" class="class"><a href="./widgets.WidgetDef/">WidgetDef</a> </li></ul> </li><li id="nav_xml" class="folder"><a href="#">xml</a><ul><li id="nav_xml_dom" class="raptor-module"><a href="./xml.dom/">dom</a><ul><li id="nav_xml_dom_package_json" class="package"><a href="./source/xml/dom/package.json/">package.json</a> </li><li id="nav_xml_dom_DomParser" class="raptor-class"><a href="./xml.dom.DomParser/">DomParser</a> </li></ul> </li><li id="nav_xml_dom-to-sax" class="raptor-module"><a href="./xml.dom-to-sax/">dom-to-sax</a><ul><li id="nav_xml_dom-to-sax_package_json" class="package"><a href="./source/xml/dom-to-sax/package.json/">package.json</a> </li><li id="nav_xml_dom-to-sax_Attribute" class="class"><a href="./xml.dom-to-sax.Attribute/">Attribute</a> </li><li id="nav_xml_dom-to-sax_Element" class="class"><a href="./xml.dom-to-sax.Element/">Element</a> </li></ul> </li><li id="nav_xml_sax" class="raptor-module"><a href="./xml.sax/">sax</a><ul><li id="nav_xml_sax_package_json" class="package"><a href="./source/xml/sax/package.json/">package.json</a> </li><li id="nav_xml_sax_object-mapper" class="raptor-module"><a href="./xml.sax.object-mapper/">object-mapper</a><ul><li id="nav_xml_sax_object-mapper_package_json" class="package"><a href="./source/xml/sax/object-mapper/package.json/">package.json</a> </li><li id="nav_xml_sax_object-mapper_Reader" class="class"><a href="./xml.sax.object-mapper.Reader/">Reader</a> </li></ul> </li><li id="nav_xml_sax_BaseSaxParser" class="raptor-class"><a href="./xml.sax.BaseSaxParser/">BaseSaxParser</a> </li><li id="nav_xml_sax_SaxParser_Node" class="raptor-class"><a href="./xml.sax.SaxParser_Node/">SaxParser (Node Extension)</a><ul><li id="nav_xml_sax_SaxParser_Node_Attribute" class="class"><a href="./xml.sax.SaxParser_Node.Attribute/">Attribute (Node Extension)</a> </li><li id="nav_xml_sax_SaxParser_Node_Element" class="class"><a href="./xml.sax.SaxParser_Node.Element/">Element (Node Extension)</a> </li></ul> </li><li id="nav_xml_sax_SaxParser_Rhino" class="raptor-class"><a href="./xml.sax.SaxParser_Rhino/">SaxParser (Rhino Extension)</a><ul><li id="nav_xml_sax_SaxParser_Rhino_Attribute" class="class"><a href="./xml.sax.SaxParser_Rhino.Attribute/">Attribute (Rhino Extension)</a> </li><li id="nav_xml_sax_SaxParser_Rhino_Element" class="class"><a href="./xml.sax.SaxParser_Rhino.Element/">Element (Rhino Extension)</a> </li></ul> </li><li id="nav_xml_sax_SaxParserDom" class="raptor-class"><a href="./xml.sax.SaxParserDom/">SaxParserDom</a> </li></ul> </li><li id="nav_xml_utils" class="raptor-module"><a href="./xml.utils/">utils</a><ul><li id="nav_xml_utils_package_json" class="package"><a href="./source/xml/utils/package.json/">package.json</a> </li></ul> </li><li id="nav_xml_Attribute" class="raptor-class"><a href="./xml.Attribute/">Attribute</a> </li><li id="nav_xml_Element" class="raptor-class"><a href="./xml.Element/">Element</a> </li></ul> </li><li id="nav_global" class="global"><a href="./global/">Global</a> </li></ul></div></div></div><div id="main"><div class="header"><h1><a href="./"><span class="title">RaptorJS API Docs</span></a><span class="version">0.9.2</span><div class="powered-by">Powered by <a href="http://raptorjs.org/">RaptorJS</a></div></h1></div><div id="mainContent"><h1>/templating/compiler/TaglibCollection.js</h1><pre class="code sh_javascript_dom">/*
 * Copyright 2011 eBay Software Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 * Merges a set of taglibs for ea
 */
raptor.defineClass(
    'templating.compiler.TaglibCollection',
    function(raptor) {
        "use strict";
        
        var forEach = raptor.forEach,
            extend = raptor.extend,
            strings = raptor.strings,
            Taglib = raptor.require("templating.compiler.Taglib"),
            ElementNode = raptor.require('templating.compiler.ElementNode'),
            TextNode = raptor.require('templating.compiler.TextNode'),
            Tag = Taglib.Tag,
            Transformer = Taglib.Transformer,
            /*
             * Probably one of the more amazing regular expressions you will ever see...
             * 
             * Valid imports:
             * x, y, z from http://raptorjs.org/templates/core
             * x, y, z from core
             * x, y, z from core as my-core
             * * from core as c 
             * core
             * core as my-core
             */
            importRegExp = /^(?:(\*|(?:(?:@?[A-Za-z0-9_\-]+\s*,\s*)*@?[A-Za-z0-9_\-]+))\s+from\s+)?([^ ]*)(?:\s+as\s+([A-Za-z0-9_\-]+))?$/,
            getImported = function(lookup, localName, imports) {
                if (lookup[localName] != null) {
                    return lookup[localName];
                }
                
                var prefixEnd = localName.indexOf('-'),
                    prefix,
                    uri,
                    name;
                
                
                
                if (prefixEnd != -1) {
                    
                    
                    prefix = localName.substring(0, prefixEnd);
                    name = localName.substring(prefixEnd+1);
                    uri = imports._prefixes[prefix];
                    
                    if (uri) {
                        return {
                            uri: uri,
                            name: name,
                            prefix: prefix
                        };
                    }
                }
                
                return null;
            };
        
        var Imports = function(taglibs, importsStr) {
            this._tagImports = {};
            this._attrImports = {};
            this._prefixes = {};
            
            var parts = strings.trim(importsStr).split(/\s*;\s*/);
            forEach(parts, function(part) {
                if (!part) { //Skip empty strings
                    return;
                }
                
                var match = part.match(importRegExp),
                    imports,
                    importsLookup = {},
                    from,
                    as;
                
                if (!match) {
                    throw raptor.createError(new Error('Invalid import: "' + part + '"'));
                }
                else {
                    imports = match[1],
                    from = taglibs.resolveURI(match[2]),
                    as = match[3];

                    if (!as) {
                        as = taglibs.resolvePrefix(from) || taglibs.resolveShortName(from); //Use either the prefix (preferred) or the short name if provided
                        if (!as) {
                            throw raptor.createError(new Error('Unable to handle imports from "' + from + '". The taglib does not have a prefix or short name defined.'));
                        }
                    }
                }
                
                this._prefixes[as] = from;
                
                if (imports) {
                    forEach(imports.split(/\s*,\s*/), function(importedTagName) {
                        importsLookup[importedTagName] = true;
                    });
                }

                taglibs.forEachTag(from, function(tag, taglib) {
                    
                    if (tag.uri === from &amp;&amp; (importsLookup['*'] || importsLookup[tag.name])) {
                        /*
                         * Import tags with a URI that matches the taglib URI
                         */
                        this._tagImports[tag.name] = { uri: from, name: tag.name, prefix: as };
                    }
                    
                    /*
                     * Allow imports for attributes that can be assigned to tags with a different URI
                     * e.g. &lt;div c-if="someCondition">&lt;/div> --> &lt;div c:if="someCondition">&lt;/div>
                     */
                    tag.forEachAttribute(function(attr) {
                        
                        if (tag.uri !== from &amp;&amp; (importsLookup['*'] || importsLookup["@" + attr.name])) {
                            this._attrImports[attr.name] = { uri: from, name: attr.name, prefix: as };
                        }

                    }, this);
                    
                }, this);
                
            }, this);
        };
        
        Imports.prototype = {

            getImportedTag: function(localName) {
                return getImported(this._tagImports, localName, this);
            },
            
            getImportedAttribute: function(localName) {
                return getImported(this._attrImports, localName, this);
            }
        };
        
        
        
        var TaglibCollection = function() {
            this.tagTransformersLookup = {}; //Tag transformers lookup
            this.tags = {}; //Tag definitions lookup
            this.textTransformers = {};
            this.taglibsByURI = {}; //Lookup to track the URIs of taglibs that have been added to this collection
            this.shortNameToUriMapping = {};
            this.uriToShortNameMapping = {};
            this.uriToPrefixMapping = {};
            this.functionsLookup = {};
            this.nestedTags = {};
        };
        
        TaglibCollection.prototype = {
                
            getAttribute: function(tagUri, tagName, attrUri, attrName) {
                var tags = this.tags;
                
                var _findAttr = function(lookupKey) {
                    var tag = tags[lookupKey];
                    return tag ? tag.getAttribute(attrUri, attrName) : null;
                };
                
                var attr = _findAttr(tagUri + ":" + tagName) || 
                    _findAttr(tagUri + ":*") ||
                    _findAttr("*:*");
                
                if (attr &amp;&amp; attr.uri &amp;&amp; attr.uri !== '*') {
                    //The attribute is being imported
                    
                    var taglib = this.taglibsByURI[attr.uri];
                    if (!taglib) {
                        throw raptor.createError(new Error('Taglib with URI "' + attr.uri + '" not found for imported attribute with name "' + attrName + '"'));
                    }
                    attr = taglib.getAttribute(attrName);
                    if (!attr) {
                        throw raptor.createError(new Error('Attribute "' + attrName + '" imported from taglib with URI "' + attr.uri + '" not found in taglib.'));
                    }
                }
                
                if (!attr) {
                    var attrShortUri = this.resolveShortName(attrUri);
                    if (attrShortUri !== attrUri) {
                        return this.getAttribute(tagUri, tagName, attrShortUri, attrName);
                    }
                }
                
                return attr;
            },
            
            forEachTag: function(uri, callback, thisObj) {
                uri = this.resolveURI(uri);
                
                
                var taglib = this.taglibsByURI[uri];
                
                if (!taglib) {
                    return;
                }
                
                raptor.forEachEntry(taglib.tags, function(key, tag) {
                    
                    callback.call(thisObj, tag, taglib);
                });
            },
            
            /**
             * Checks if the provided URI is the URI of a taglib
             * 
             * @param uri {String} The URI to check
             * @returns {Boolean} Returns true if the URI is that of a taglib. False, otherwise.
             */
            isTaglib: function(uri) {
                return this.taglibsByURI[uri] != null;
            },
            
            /**
             * Adds a new taglib to the collection
             * 
             * @param taglib {templating.compiler$Taglib} The taglib to add
             */
            add: function(taglib) {
                var targetTaglib = this.taglibsByURI[taglib.uri] || taglib;
                
                this.taglibsByURI[taglib.uri] = targetTaglib; //Mark the taglib as added
                
                if (taglib.shortName) {
                    /*
                     * If the taglib has a short name then record that mapping so that we
                     * can map the short name to the full URI
                     */
                    this.taglibsByURI[taglib.shortName] = taglib; //Mark the short name as being a taglib
                    
                    if (taglib.shortName) {
                        targetTaglib.shortName = taglib.shortName;
                        
                        this.shortNameToUriMapping[taglib.shortName] = taglib.uri; //Add the mapping
                        this.uriToShortNameMapping[taglib.uri] = taglib.shortName; //Add the reverse-mapping
                    }
                    
                    if (taglib.prefix) {
                        targetTaglib.prefix = taglib.prefix;
                        
                        this.uriToPrefixMapping[taglib.uri] = taglib.prefix;
                    }
                }
                
                /*
                 * Index all of the tags in the taglib by registering them
                 * based on the tag URI and the tag name
                 */
                taglib.forEachTag(function(tag, i) {
                    
                    
                    
                    var uri = tag.uri == null ? (tag.uri = taglib.uri) : tag.uri, //If not specified, the tag URI should be the same as the taglib URI
                        name = tag.name,
                        key = uri + ":" + name; //The taglib will be registered using the combination of URI and tag name
                    
                    this.tags[key] = tag; //Register the tag using the combination of URI and tag name so that it can easily be looked up
                    
                    if (tag.transformers) { //Check if the tag has any transformers that should be applied
                        
                        var tagTransformersForTags = this.tagTransformersLookup[key] || (this.tagTransformersLookup[key] = []); //A reference to the array of the tag transformers with the same key
                        
                        //Now add all of the transformers for the node (there will typically only be one...)
                        forEach(tag.transformers, function(transformer) {
                            tagTransformersForTags.push(transformer);
                        }, this);
                    }
                    
                    tag.forEachNestedTag(function(nestedTag) {
                        this.nestedTags[tag.uri + ":" + tag.name + ":" + nestedTag.uri + ":" + nestedTag.name] = nestedTag;
                    }, this);
                }, this);
                
                /*
                 * Now register all of the text transformers that are part of the provided taglibs
                 */
                forEach(taglib.textTransformers, function(textTransformer) {
                    this.textTransformers[textTransformer.className] = textTransformer;
                }, this);
                
                
                forEach(taglib.functions, function(func) {
                    if (!func.name) {
                        throw raptor.createError(new Error("Function name not set."));
                    }
                    this.functionsLookup[taglib.uri + ":" + func.name] = func;
                    if (targetTaglib.shortName) {
                        this.functionsLookup[taglib.shortName + ":" + func.name] = func;
                    }
                }, this);
            },
            
            /**
             * Invokes a callback for eaching matching transformer that is found for the current node.
             * If the provided node is an element node then the match is based on the node's
             * URI and the local name. If the provided node is a text node then all
             * text transformers will match.
             * 
             * @param node {templating.compiler$Node} The node to match transformers to
             * @param callback {Function} The callback function to invoke for each matching transformer
             * @param thisObj {Object} The "this" object to use when invoking the callback function
             */
            forEachNodeTransformer: function(node, callback, thisObj) {
                /*
                 * Based on the type of node we have to choose how to transform it
                 */
                if (node instanceof ElementNode) {
                    this.forEachTagTransformer(node.uri, node.localName, callback, thisObj);
                }
                else if (node instanceof TextNode) {
                    this.forEachTextTransformer(callback, thisObj);
                }
            },
            
            /**
             * Resolves a taglib short name to a taglib URI.
             * 
             * &lt;p>
             * If the provided short name is not a known short name then it is just returned.
             * 
             * @param shortName {String} The taglib short name to resolve
             * @returns {String} The resolved URI or the input string if it is not a known short name
             */
            resolveURI: function(shortName) {
                if (!shortName) {
                    return shortName;
                }
                
                return this.shortNameToUriMapping[shortName] || shortName;
            },
            
            /**
             * Resolves a taglib URI to a taglib short name.
             * 
             * &lt;p>
             * If the provided URI is not a known short name then it is just returned.
             * 
             * @param uri {String} The taglib uri to resolve to a short name
             * @returns {String} The resolved short name or undefined if the taglib does not have a short name
             */
            resolveShortName: function(uri) {
                if (!uri) {
                    return uri;
                }
                if (this.shortNameToUriMapping[uri]) { //See if the URI is already a short name
                    return uri;
                }
                
                return this.uriToShortNameMapping[uri]; //Otherwise lookup the short name for the long URI
            },
            
            resolvePrefix: function(uri) {
                if (!uri) {
                    return uri;
                }
                uri = this.resolveURI(uri); //Resolve the short name to a long URI
                
                return this.uriToPrefixMapping[uri]; //See if there is a mapping from the long URI to a prefix
            },
            
            /**
             * Invokes a provided callback for each tag transformer that
             * matches the provided URI and tag name.
             * 
             * @param uri {String} The tag URI or an empty string if the tag is not namespaced
             * @param tagName {String} The local name of the tag (e.g. "div")
             * @param callback {Function} The callback function to invoke
             * @param thisObj {Object} The "this" object to use when invoking the callback function
             */
            forEachTagTransformer: function(uri, tagName, callback, thisObj) {
                /*
                 * If the node is an element node then we need to find all matching
                 * transformers based on the URI and the local name of the element.
                 */
                
                if (uri == null) {
                    uri = '';
                }
                
                var matchingTransformersByName = {};
                var matchingTransformers = [];
                var handled = {};
                var before = {};
                
                /*
                 * Handle all of the transformers in the tag transformers entry
                 */
                var _addTransformers = function(transformers) {
                    raptor.forEach(transformers, function(transformer) {
                        if (!matchingTransformersByName[transformer.className]) {
                            matchingTransformersByName[transformer.className] = transformer;    
                            matchingTransformers.push(transformer);
                            
                            if (transformer.before) {
                                (before[transformer.before] || (before[transformer.before] = [])).push(transformer);
                            }
                        }
                        
                    });
                };

                /*
                 * Handle all of the transformers for all possible matching transformers.
                 * 
                 * Start with the least specific and end with the most specific.
                 */
                _addTransformers(this.tagTransformersLookup["*:*"]); //Wildcard for both URI and tag name (i.e. transformers that apply to every element)
                _addTransformers(this.tagTransformersLookup[uri + ":*"]); //Wildcard for tag name but matching URI (i.e. transformers that apply to every element with a URI, regadless of tag name)
                _addTransformers(this.tagTransformersLookup[uri + ":" + tagName]); //All transformers that match the URI and tag name exactly
                
                var _handleTransformer = function(transformer) {
                    if (!handled[transformer.className]) {
                        handled[transformer.className] = true;
                        
                        if (transformer.after) { //Check if this transformer is required to run
                            _handleTransformer(matchingTransformersByName[transformer.after]); //Handle any transformers that this transformer is supposed to run after
                        }
                        
                        raptor.forEach(before[transformer.className], _handleTransformer); //Handle any transformers that are configured to run before this transformer
                        
                        callback.call(thisObj, transformer);
                    }
                    
                };
                
                matchingTransformers.forEach(function(transformer) {
                    _handleTransformer(transformer);
                }, this);
            },
            
            /**
             * Invokes a provided callback for each registered text transformer.
             * 
             * @param callback {Function} The callback function to invoke
             * @param thisObj {Object} The "this" object to use when invoking the callback function
             */
            forEachTextTransformer: function(callback, thisObj) {
                raptor.forEachEntry(this.textTransformers, function(className, textTransformer) {
                    var keepGoing = callback.call(thisObj, textTransformer);
                    if (keepGoing === false) {
                        return false;
                    }
                    return true;
                });
            },
            
            /**
             * Returns the definition of a tag that was loaded from the taglib with the specified
             * URI and with the matching 
             * @param uri
             * @param localName
             * @returns
             */
            getTag: function(uri, localName) {
                var tag = this.tags[uri + ":" + localName];
                if (!tag) {
                    tag = this.tags[uri + ":*"]; //See if there was a wildcard tag definition in the taglib
                }
                
                return tag;
            },
            
            getNestedTag: function(parentTagUri, parentTagName, nestedTagUri, nestedTagName) {
                parentTagUri = parentTagUri || '';
                nestedTagUri = nestedTagUri || '';
                return this.nestedTags[parentTagUri + ":" + parentTagName + ":" + nestedTagUri + ":" + nestedTagName];
            },
            
            getFunction: function(uri, functionName) {
                return this.functionsLookup[uri + ":" + functionName];
            },
            
            getImports: function(importsStr) {
                return new Imports(this, importsStr);
            }
        };
        
        return TaglibCollection;
    });</pre> </div></div><div id="footer"><div class="fineprint" style="clear:both">&copy; Documentation generated by <a href="http://raptorjs.org/jsdoc" target="_blank">Raptor JSDoc</a></div></div><script type="text/javascript" src="static/core-body-2834a6ab.js"></script>
<script type="text/javascript" src="static/jquery-body-371da524.js"></script>
<script type="text/javascript" src="static/type-body-9211db3c.js"></script>
<script type="text/javascript" src="static/widgets-body-06552a07.js"></script>
<script type="text/javascript" src="static/jsdoc-body-5fd1dd36.js"></script><script type="text/javascript">$rwidgets(
["components.jsdoc.Nav.NavWidget","s0",0,0,{},0]);</script><script type="text/javascript">sh_highlightDocument();</script></body></body>