(function(){var e=function(e){return e=+e,e!==e?e=0:e!==0&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e},t="a"[0]!="a",n=function(e){if(e==null)throw new TypeError("can't convert "+e+" to object");return t&&typeof e=="string"&&e?e.split(""):Object(e)},r=Function.prototype.call,i=Array.prototype,s=Object.prototype,o=i.slice;Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if(typeof n!="function")throw new TypeError("Function.prototype.bind called on incompatible "+n);var r=o.call(arguments,1),i=function(){if(this instanceof i){var e=function(){};e.prototype=n.prototype;var s=new e,u=n.apply(s,r.concat(o.call(arguments)));return Object(u)===u?u:s}return n.apply(t,r.concat(o.call(arguments)))};return i});var u=r.bind(s.toString),a=r.bind(s.hasOwnProperty);Array.isArray||(Array.isArray=function(t){return u(t)=="[object Array]"}),Array.prototype.forEach||(Array.prototype.forEach=function(t){var r=n(this),i=arguments[1],s=-1,o=r.length>>>0;if(u(t)!="[object Function]")throw new TypeError;while(++s<o)s in r&&t.call(i,r[s],s,r)}),Array.prototype.map||(Array.prototype.map=function(t){var r=n(this),i=r.length>>>0,s=Array(i),o=arguments[1];if(u(t)!="[object Function]")throw new TypeError(t+" is not a function");for(var a=0;a<i;a++)a in r&&(s[a]=t.call(o,r[a],a,r));return s}),Array.prototype.filter||(Array.prototype.filter=function(t){var r=n(this),i=r.length>>>0,s=[],o,a=arguments[1];if(u(t)!="[object Function]")throw new TypeError(t+" is not a function");for(var f=0;f<i;f++)f in r&&(o=r[f],t.call(a,o,f,r)&&s.push(o));return s}),Array.prototype.every||(Array.prototype.every=function(t){var r=n(this),i=r.length>>>0,s=arguments[1];if(u(t)!="[object Function]")throw new TypeError(t+" is not a function");for(var o=0;o<i;o++)if(o in r&&!t.call(s,r[o],o,r))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t){var r=n(this),i=r.length>>>0,s=arguments[1];if(u(t)!="[object Function]")throw new TypeError(t+" is not a function");for(var o=0;o<i;o++)if(o in r&&t.call(s,r[o],o,r))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var r=n(this),i=r.length>>>0;if(u(t)!="[object Function]")throw new TypeError(t+" is not a function");if(!i&&arguments.length==1)throw new TypeError("reduce of empty array with no initial value");var s=0,o;if(arguments.length>=2)o=arguments[1];else do{if(s in r){o=r[s++];break}if(++s>=i)throw new TypeError("reduce of empty array with no initial value")}while(!0);for(;s<i;s++)s in r&&(o=t.call(void 0,o,r[s],s,r));return o}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var r=n(this),i=r.length>>>0;if(u(t)!="[object Function]")throw new TypeError(t+" is not a function");if(!i&&arguments.length==1)throw new TypeError("reduceRight of empty array with no initial value");var s,o=i-1;if(arguments.length>=2)s=arguments[1];else do{if(o in r){s=r[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}while(!0);do o in this&&(s=t.call(void 0,s,r[o],o,r));while(o--);return s}),Array.prototype.indexOf||(Array.prototype.indexOf=function(r){var i=n(this),s=i.length>>>0;if(!s)return-1;var o=0;arguments.length>1&&(o=e(arguments[1])),o=o>=0?o:Math.max(0,s+o);for(;o<s;o++)if(o in i&&i[o]===r)return o;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(r){var i=n(this),s=i.length>>>0;if(!s)return-1;var o=s-1;arguments.length>1&&(o=Math.min(o,e(arguments[1]))),o=o>=0?o:s-Math.abs(o);for(;o>=0;o--)if(o in i&&r===i[o])return o;return-1});if(!Object.keys){var f=!0,l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=l.length;for(var h in{toString:null})f=!1;Object.keys=function m(e){if(typeof e!="object"&&typeof e!="function"||e===null)throw new TypeError("Object.keys called on a non-object");var m=[];for(var t in e)a(e,t)&&m.push(t);if(f)for(var n=0,r=c;n<r;n++){var i=l[n];a(e,i)&&m.push(i)}return m}}var p="	\n\f\r   ᠎             　\u2028\u2029﻿";if(!String.prototype.trim||p.trim()){p="["+p+"]";var d=new RegExp("^"+p+p+"*"),v=new RegExp(p+p+"*$");String.prototype.trim=function(){if(this===undefined||this===null)throw new TypeError("can't convert "+this+" to object");return String(this).replace(d,"").replace(v,"")}}})();
(function(){var e,t={},n=function(e){return e&&t[e]||(t[e]={postCreate:[]})},r={},i="/",s={},o=[].slice,u=/^(\.\.\/|\.\/)/,a=Array.isArray,f=function(e,t){e||(e={});for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},l=function(e){return typeof e=="string"},c=function(e){return typeof e=="function"},h=function(t,n,r){var i=c(n)?n():n,s;return r&&e.forEach(r,function(e){if(s=e(i))i=s}),i},p=function(e,t,n){var r=e.prototype,i=function(){},s=l(t)?x(t):t;return f(e,s),i.prototype=s.prototype,e.superclass=i.prototype,e.prototype=new i,n&&f(e.prototype,r),r},d=function(){return this.constructor},v=function(){return this.__name},m=function(e,t,n){if(!c(e)){var r=e;e=r.init||function(){},f(e.prototype,r)}t&&p(e,t,!0),e.getName=v,e.__name=n;var i=e.prototype;return i.constructor=e,i.getClass=d,e},g=function(e){return this[e]},y=function(){return this._ordinal},b=function(){return this._name},w=function(e){return this._ordinal-e._ordinal},E=function(e,t,n){var r=e[t]=new n;return r._ordinal=e._count++,r._name=t,r},S=function(e,t){e.charAt(0)==i&&(e=e.substring(1));if(u.test(e)){if(!t)return e;var n=e.split(i),r=t.split(i).slice(0,-1);for(var s=0,o=n.length,a;s<o;s++)a=n[s],a==".."?r.splice(r.length-1,1):a!="."&&r.push(a);return r.join(i)}return e.replace(/\./g,i)},x=function(n,i){if(i)return x("raptor/loader").load(n,i);if(r.hasOwnProperty(n))return r[n];if(e.exists(n)){var s=t[n];return r[n]=h(n,s.factory,s.postCreate)}throw new Error(n+" not found")},T={load:function(e,t){var n=this.normalize;for(var r=0,i=e.length;r<i;r++)e[r]=n(e[r]);return x(e,t)},exists:function(t){return e.exists(this.normalize(t))},find:function(e){return this.exists(e)?this(e):undefined}},N={extend:function(){return L(arguments,this.require,0,1)},Class:function(){return L(arguments,this.require,1)},Enum:function(){return L(arguments,this.require,0,0,1)}},C=function(e){return f(e,N)},k=function(e){return f(e,T)},L=function(t,n,r,i,s){var o=0,u=t.length-1,h,p,d,v,x,T=[],N,C,L=k(function(e,t){return t?L.load(e,t):n(e,d)}),O=new A(L),M=O.exports,_={require:L,exports:M,module:O},D=function(){return T.forEach(function(e,t){var r;(r=_[e])||(r=n(e,d)),T[t]=r}),T};L.normalize=function(e){return S(e,d)};for(;o<u;o++){p=t[o];if(l(p))d?v=S(p,d):d=O.id=S(p);else if(a(p))T=p;else if(v=p.superclass)v=l(v)?S(v):v;else{if(!s)throw new Error("Invalid call to define");x=p}}return C=t[u],i?N=function(t){c(t)&&(t=t.prototype),c(C)&&(C=C.apply(e,D().concat([L,t]))),f(t,C)}:(r||v?N=function(e){var t=m(e,v,d);return t}:s&&(a(C)&&(x=C,C=null),N=function(t){t?typeof t=="object"&&(t=m(t,0,d)):t=function(){};var n=t.prototype;return t._count=0,a(x)?x.forEach(function(e){E(t,e,t)}):x&&(EnumCtor=function(){},EnumCtor.prototype=n,e.forEachEntry(x,function(e,n){enumValue=E(t,e,EnumCtor),t.apply(enumValue,n||[])})),t.valueOf=g,f(n,{name:b,ordinal:y,compareTo:w}),n.toString==Object.prototype.toString&&(n.toString=b),t}),h=c(C)?function(){var t=C.apply(e,D().concat([L,M,O]));return t==undefined?O.exports:t}:C),e.define(d,h,N)},A=function(e){this.require=e,this.exports={},this._logger=null};A.prototype={logger:function(){return this._logger||(this._logger=x("raptor/logging").logger(this.id))}},e={cache:r,inherit:p,extend:f,forEach:function(e,t,n){e!=null&&(a(e)?e:[e]).forEach(t,n)},arrayFromArguments:function(e,t){return e?t?t<e.length?o.call(e,t):[]:o.call(e):[]},forEachEntry:function(e,t,n){for(var r in e)e.hasOwnProperty(r)&&t.call(n,r,e[r])},createError:function(e,t){var n,r=arguments.length,i=Error;return r==2?(n=e instanceof i?e:new i(e),n._cause=t):r==1&&(e instanceof i?n=e:n=new i(e)),n},define:function(t,i,s){if(!t)return h.apply(e,arguments);var o=n(t);i&&(o.factory=i);if(s){o.postCreate.push(s);var u=r[t];u&&s(u)}},exists:function(e){return t.hasOwnProperty(e)},require:x,normalize:S,_define:L,_extendDefine:C},e.define("raptor",e),$rset=function(e,t,n){var r=s[e];r||(r=s[e]={}),n!==undefined?r[t]=n:delete r[t]},$radd=function(e,t){var n=s[e];n||(n=s[e]=[]),n.push(t)},$rget=function(e,t){var n=s[e];return arguments.length===2?n&&n[t]:n};if(typeof exports=="undefined"){e.global=window;var O=N.require=function(e,t){return x(S(e,t))};define=C(function(){return L(arguments,O)}),require=k(e.require),require.normalize=S,define.amd={}}else module.exports=e})();
define("raptor/logging",["raptor"],function(e){var t=function(){return!1},n={isDebugEnabled:t,isInfoEnabled:t,isWarnEnabled:t,isErrorEnabled:t,isFatalEnabled:t,dump:t,debug:t,info:t,warn:t,error:t,fatal:t,alert:t,trace:t};return{logger:function(e){return n},makeLogger:function(t,r){e.extend(t,n)},voidLogger:n}});
define("raptor/listeners",["raptor"],function(e,t){"use strict";var n=e.forEachEntry,r=Array.isArray,i=e.extend,s=0,o="__lstnrs",u=function(){},a,f=function(e,t){return e?t?function(){e.apply(t,arguments)}:e:u},l=function(e,t){var n=[],r;t.removed=!0,e._listeners.forEach(function(e){e!==t&&!e.removed&&n.push(e)}),e._listeners=n,(r=t.thisObj)&&delete r[o][t.id],e._listeners.length||e._onEmpty()},c=function(e,t){return function(){l(e,t)}},h=function(t){return function(r){if(!arguments.length)n(t,function(e,t){t.remove()});else{var i=t[r];if(!i)throw e.createError(new Error("Invalid message name: "+r));i.unsubscribe()}}},p=function(e,t){this.name=e,this.data=t};p.prototype={getName:function(){return this.name},getData:function(){return this.data}};var d=function(){this._listeners=[],this._onEmpty=u};d.prototype={add:function(e,t,n){var r={callback:e,thisObj:t,removed:!1,autoRemove:n,id:s++},i,u=this;u._listeners.push(r);var a={remove:c(u,r)};return a.unsubscribe=a.remove,t&&((i=t[o])||(i=t[o]={}),i[r.id]=a),a},publish:function(){var e=arguments,t=this;t._listeners.forEach(function(n){if(n.removed)return;n.callback.apply(n.thisObj,e),n.autoRemove&&l(t,n)})},onEmpty:function(e,t){this._onEmpty=f(e,t)}};var v=function(e,t){var n=t._allowed;if(n&&!n[e])throw new Error('Invalid message name of "'+e+'". Allowed messages: '+Object.keys(n).join(", "))},m=function(e){return function(t){var n=[e].concat(Array.prototype.slice.call(arguments));this[typeof t=="function"?"subscribe":"publish"].apply(this,n)}},g=function(){this._byName={}};return g.prototype={__observable:!0,registerMessages:function(e,t){this._allowed||(this._allowed={});for(var n=0,r=e.length;n<r;n++){var i=e[n];this._allowed[i]=!0,t&&(this[i]=m(i))}},subscribe:function(e,t,r,i){var s=this,o,u;if(typeof e=="object")return i=r,r=t,o={},n(e,function(e,t){o[e]=s.subscribe(e,t,r,i)}),u={unsubscribe:h(o)},u.remove=u.removeAll=u.unsubscribe,u;v(e,s);var a=s._byName[e];return a||(s._byName[e]=a=new d,a.onEmpty(function(){delete s._byName[e]})),a.add(t,r,i)},publish:function(e,t){var n;r(t)?n=t:(a.isMessage(e)?(t=e,e=t.getName()):t=a.createMessage(e,t),n=[t.data,t]),v(e,this);var i=this,s=function(e){var t=i._byName[e];if(!t)return;t.publish.apply(t,n)};s(e),s("*");var o=e.lastIndexOf(".");return o>=0&&s(e.substring(0,o+1)+"*"),t}},a={Message:p,createListeners:function(){return new d},createObservable:function(e,t){var n=new g;return e&&n.registerMessages(e,t),n},makeObservable:function(e,t,n,r){t||(t=e),t._observable||(t._observable=!0,i(t,g.prototype)),g.call(e),n&&e.registerMessages(n,r)},isObervable:function(e){return e&&e.__observable},createMessage:function(e,t){return new p(e,t)},isMessage:function(e){return e instanceof p},bind:f,unsubscribeFromAll:function(e){var t=e[o];if(t)for(var n in t)t[n].unsubscribe()}}});