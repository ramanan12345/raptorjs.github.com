(function(){var e=function(e){return e=+e,e!==e?e=0:e!==0&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e},t="a"[0]!="a",n=function(e){if(e==null)throw new TypeError("can't convert "+e+" to object");return t&&typeof e=="string"&&e?e.split(""):Object(e)},r=Function.prototype.call,i=Array.prototype,s=Object.prototype,o=i.slice;Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if(typeof n!="function")throw new TypeError("Function.prototype.bind called on incompatible "+n);var r=o.call(arguments,1),i=function(){if(this instanceof i){var e=function(){};e.prototype=n.prototype;var s=new e,u=n.apply(s,r.concat(o.call(arguments)));return Object(u)===u?u:s}return n.apply(t,r.concat(o.call(arguments)))};return i});var u=r.bind(s.toString),a=r.bind(s.hasOwnProperty);Array.isArray||(Array.isArray=function(t){return u(t)=="[object Array]"}),Array.prototype.forEach||(Array.prototype.forEach=function(t){var r=n(this),i=arguments[1],s=-1,o=r.length>>>0;if(u(t)!="[object Function]")throw new TypeError;while(++s<o)s in r&&t.call(i,r[s],s,r)}),Array.prototype.map||(Array.prototype.map=function(t){var r=n(this),i=r.length>>>0,s=Array(i),o=arguments[1];if(u(t)!="[object Function]")throw new TypeError(t+" is not a function");for(var a=0;a<i;a++)a in r&&(s[a]=t.call(o,r[a],a,r));return s}),Array.prototype.filter||(Array.prototype.filter=function(t){var r=n(this),i=r.length>>>0,s=[],o,a=arguments[1];if(u(t)!="[object Function]")throw new TypeError(t+" is not a function");for(var f=0;f<i;f++)f in r&&(o=r[f],t.call(a,o,f,r)&&s.push(o));return s}),Array.prototype.every||(Array.prototype.every=function(t){var r=n(this),i=r.length>>>0,s=arguments[1];if(u(t)!="[object Function]")throw new TypeError(t+" is not a function");for(var o=0;o<i;o++)if(o in r&&!t.call(s,r[o],o,r))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t){var r=n(this),i=r.length>>>0,s=arguments[1];if(u(t)!="[object Function]")throw new TypeError(t+" is not a function");for(var o=0;o<i;o++)if(o in r&&t.call(s,r[o],o,r))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var r=n(this),i=r.length>>>0;if(u(t)!="[object Function]")throw new TypeError(t+" is not a function");if(!i&&arguments.length==1)throw new TypeError("reduce of empty array with no initial value");var s=0,o;if(arguments.length>=2)o=arguments[1];else do{if(s in r){o=r[s++];break}if(++s>=i)throw new TypeError("reduce of empty array with no initial value")}while(!0);for(;s<i;s++)s in r&&(o=t.call(void 0,o,r[s],s,r));return o}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var r=n(this),i=r.length>>>0;if(u(t)!="[object Function]")throw new TypeError(t+" is not a function");if(!i&&arguments.length==1)throw new TypeError("reduceRight of empty array with no initial value");var s,o=i-1;if(arguments.length>=2)s=arguments[1];else do{if(o in r){s=r[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}while(!0);do o in this&&(s=t.call(void 0,s,r[o],o,r));while(o--);return s}),Array.prototype.indexOf||(Array.prototype.indexOf=function(r){var i=n(this),s=i.length>>>0;if(!s)return-1;var o=0;arguments.length>1&&(o=e(arguments[1])),o=o>=0?o:Math.max(0,s+o);for(;o<s;o++)if(o in i&&i[o]===r)return o;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(r){var i=n(this),s=i.length>>>0;if(!s)return-1;var o=s-1;arguments.length>1&&(o=Math.min(o,e(arguments[1]))),o=o>=0?o:s-Math.abs(o);for(;o>=0;o--)if(o in i&&r===i[o])return o;return-1});if(!Object.keys){var f=!0,l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=l.length;for(var h in{toString:null})f=!1;Object.keys=function m(e){if(typeof e!="object"&&typeof e!="function"||e===null)throw new TypeError("Object.keys called on a non-object");var m=[];for(var t in e)a(e,t)&&m.push(t);if(f)for(var n=0,r=c;n<r;n++){var i=l[n];a(e,i)&&m.push(i)}return m}}var p="	\n\f\r   ᠎             　\u2028\u2029﻿";if(!String.prototype.trim||p.trim()){p="["+p+"]";var d=new RegExp("^"+p+p+"*"),v=new RegExp(p+p+"*$");String.prototype.trim=function(){if(this===undefined||this===null)throw new TypeError("can't convert "+this+" to object");return String(this).replace(d,"").replace(v,"")}}})();
(function(){var e=String.prototype;e.startsWith||(e.startsWith=function(e,t){var n=this;return t&&(n=n.substring(t)),n.length<e.length?!1:n.substring(0,e.length)==e}),e.endsWith||(e.endsWith=function(e,t){var n=this;return t&&(n=n.substring(t)),n.length<e.length?!1:n.slice(0-e.length)==e})})();
(function(){var e,t={},n=function(e){return e&&t[e]||(t[e]={postCreate:[]})},r={},i="/",s={},o=[].slice,u=Array.isArray,a=function(e,t){e||(e={});for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},f=function(e){return typeof e=="string"},l=function(e){return typeof e=="function"},c=function(e,t,n){e!=null&&(e.forEach?e:[e]).forEach(t,n)},h=function(e,t,n){for(var r in e)e.hasOwnProperty(r)&&t.call(n,r,e[r])},p=function(e,t,n){var r=l(t)?t():t,i;return n&&c(n,function(e){if(i=e(r))r=i}),r},d=function(e,t,n){var r=e.prototype,i=function(){},s=f(t)?w(t):t;return a(e,s),i.prototype=s.prototype,e.superclass=i.prototype,e.prototype=new i,n&&a(e.prototype,r),r},v=function(e,t,n){if(!l(e)){var r=e;e=r.init||function(){},a(e.prototype,r)}t&&d(e,t,!0),e.getName=e.getName||function(){return n};var i=e.prototype;return i.constructor=e,i.getClass=function(){return e},e},m=function(){return this._ordinal},g=function(){return this._name},y=function(e){return this._ordinal-e._ordinal},b=function(e,t){e.charAt(0)==i&&(e=e.substring(1));if(e.charAt(0)=="."){if(!t)return e;var n=t.split(i).slice(0,-1);return c(e.split(i),function(e,t){e==".."?n.splice(n.length-1,1):e!="."&&n.push(e)}),n.join(i)}return e.replace(/\./g,i)},w=function(n,i,s){if(i)return w("raptor/loader").load(n,i,s);if(r.hasOwnProperty(n))return r[n];if(e.exists(n)){var o=t[n];return r[n]=p(n,o.factory,o.postCreate)}throw new Error(n+" not found")},E={load:function(e,t){var n=this.normalize;for(var r=0,i=e.length;r<i;r++)e[r]=n(e[r]);return w(e,t)},exists:function(t){return e.exists(this.normalize(t))},find:function(t){return e.find(this.normalize(t))}},S={extend:function(){return N(arguments,this.require,0,1)},Class:function(){return N(arguments,this.require,1)},Enum:function(){return N(arguments,this.require,0,0,1)}},x=function(e){return a(e,S)},T=function(e){return a(e,E)},N=function(t,n,r,i,s){var o=0,p=t.length-1,d,w,E,S,x,N=[],k,L,A=T(function(e,t){return t?A.load(e,t):n(e,E)}),O=new C(A),M=O.exports,_={require:A,exports:M,module:O},D=function(){return c(N,function(e,t){var r;(r=_[e])||(r=n(e,E)),N[t]=r}),N};A.normalize=function(e){return b(e,E)};for(;o<p;o++)w=t[o],f(w)?E?S=b(w,E):E=O.id=b(w):u(w)?N=w:s?x=w:S=w.superclass;return L=t[p],i?k=function(t){l(L)&&(L=L.apply(e,D().concat([A,t]))),L&&a(l(t)?t.prototype:t,L)}:(r||S?k=function(e){return S=f(S)?A(S):S,v(e,S,E)}:s&&(u(L)&&(x=L,L=null),k=function(e){e?typeof e=="object"&&(e=v(e,0,E)):e=function(){};var t=e.prototype,n=0,r=function(t,r){return a(e[t]=new r,{_ordinal:n++,_name:t})};if(u(x))c(x,function(t){r(t,e)});else if(x){var i=function(){};i.prototype=t,h(x,function(t,n){e.apply(r(t,i),n||[])})}return e.valueOf=function(t){return e[t]},a(t,{name:g,ordinal:m,compareTo:y}),t.toString==Object.prototype.toString&&(t.toString=g),e}),d=l(L)?function(){var t=L.apply(e,D().concat([A,M,O]));return t===undefined?O.exports:t}:L),e.define(E,d,k)},C=function(e){var t=this;t.require=e,t.exports={}};C.prototype={logger:function(){var e=this;return e.l||(e.l=w("raptor/logging").logger(e.id))}},e={cache:r,inherit:d,extend:a,forEach:c,arrayFromArguments:function(e,t){return e?t?t<e.length?o.call(e,t):[]:o.call(e):[]},forEachEntry:h,createError:function(e,t){var n,r=arguments.length,i=Error;return r==2?(n=e instanceof i?e:new i(e),n._cause=t):r==1&&(e instanceof i?n=e:n=new i(e)),n},define:function(t,i,s){if(!t)return p.apply(e,arguments);var o=n(t),u;i&&(o.factory=i),s&&(o.postCreate.push(s),(u=r[t])&&s(u)),typeof u=="object"&&u.toString===Object.prototype.toString&&(u.toString=function(){return"["+t+"]"})},exists:function(e){return t.hasOwnProperty(e)},find:function(t){return e.exists(t)?e.require(t):undefined},require:w,normalize:b,_define:N,props:[E,S]};var k;if(typeof window!="undefined"){k=window;var L=S.require=function(e,t){return w(b(e,t))};define=x(function(){return N(arguments,L)}),require=T(function(t){return t=b(t),e.require.apply(e,arguments)}),require.normalize=b,define.amd={}}else k=global,module.exports=e;e.define("raptor",e),a(k,{$rset:function(e,t,n){var r=s[e];r||(r=s[e]={}),n!==undefined?r[t]=n:delete r[t]},$radd:function(e,t){var n=s[e];n||(n=s[e]=[]),n.push(t)},$rget:function(e,t){var n=s[e];return arguments.length==2?n&&n[t]:n}}),e.global=k})();
define("raptor/logging",["raptor"],function(e){var t=function(){return!1},n={isDebugEnabled:t,isInfoEnabled:t,isWarnEnabled:t,isErrorEnabled:t,isFatalEnabled:t,dump:t,debug:t,info:t,warn:t,error:t,fatal:t,alert:t,trace:t};return{logger:function(e){return n},makeLogger:function(t,r){e.extend(t,n)},voidLogger:n}});
define("raptor/strings/StringBuilder",function(e){"use strict";var t=function(){this.array=[],this.length=0};return t.prototype={append:function(e){return typeof e!="string"&&(e=e.toString()),this.array.push(e),this.length+=e.length,this},toString:function(){return this.array.join("")},clear:function(){return this.array=[],this.length=0,this}},t.prototype.write=t.prototype.append,t});
define("raptor/strings",["raptor"],function(e,t){"use strict";var n="",r=function(e){return e?e.trim():n},i=t("raptor/strings/StringBuilder"),s=/\$\{([A-Za-z0-9_\.]+)\}/g;return{compare:function(e,t){return e<t?-1:e>t?1:0},isEmpty:function(e){return e==null||r(e).length===0},length:function(e){return e==null?0:e.length},isString:function(e){return typeof e=="string"},equals:function(e,t,n){return n!==!1&&(e=r(e),t=r(t)),e==t},notEquals:function(e,t,n){return this.equals(e,t,n)===!1},trim:r,ltrim:function(e){return e?e.replace(/^\s\s*/,""):n},rtrim:function(e){return e?e.replace(/\s\s*$/,""):n},startsWith:function(e,t){return e==null?!1:e.startsWith(t)},endsWith:function(e,t){return e==null?!1:e.endsWith(t)},unicodeEncode:function(e){return"\\u"+("0000"+(+e.charCodeAt(0)).toString(16)).slice(-4)},merge:function(e,t){var n,r,i=[],o=0;s.lastIndex=0;while(n=s.exec(e))i.push(e.substring(o,n.index)),r=t[n[1]],i.push(r!==undefined?r:n[0]),o=s.lastIndex;return i.push(e.substring(o)),i.join("")},StringBuilder:i,createStringBuilder:function(){return new i}}});
define("raptor/xml/utils",function(e,t,n){"use strict";var r=/[&<]/,i=/[&<]/g,s=/[&<>\"\'\n]/,o=/[&<>\"\'\n]/g,u={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;","\n":"&#10;"};return{escapeXml:function(e){return typeof e=="string"&&r.test(e)?e.replace(i,function(e){return u[e]}):e},escapeXmlAttr:function(e){return typeof e=="string"&&s.test(e)?e.replace(o,function(e){return u[e]}):e}}});
define.Class("raptor/render-context/Context",["raptor"],function(e,t){"use strict";var n=e.forEachEntry,r=t("raptor/xml/utils").escapeXmlAttr,i=t("raptor/strings/StringBuilder"),s=e.createError,o=0,u=function(e,t){return function(){return e.apply(t,arguments)}},a,f=function(e,n){var r=t(e),i=r[n]||r.prototype&&r.prototype[n];if(!i)throw s(new Error('Helper function not found with name "'+n+'" in class "'+e+'"'));return i},l=function(e){this.writer=e,this.w=this.write,this.listeners={}};return l.classFunc=f,l.prototype=a={getAttributes:function(){return this.attributes||(this.attributes={})},uniqueId:function(){return"c"+o++},write:function(e){return e!==null&&e!==undefined&&(typeof e!="string"&&(e=e.toString()),this.writer.write(e)),this},getOutput:function(){return this.writer.toString()},captureString:function(e,t){var n=new i;return this.swapWriter(n,e,t),n.toString()},swapWriter:function(e,t,n){var r=this.writer;try{this.writer=e,t.call(n)}finally{this.writer=r}},invokeHandler:function(e,t){var n=e.process||e.render;n.call(e,t,this)},getFunction:function(e,t){this._helpers||(this._helpers={});var n=e+":"+t,r=this._helpers[n];return r||(r=this._helpers[n]=u(f(e,t),this)),r},isTagInput:function(e){return e&&e.hasOwnProperty("_tag")},renderTemplate:function(e,n){return t("raptor/templating").render(e,n,this),this},attr:function(e,t,n){if(t===null)t="";else{if(t===undefined||typeof t=="string"&&t.trim()==="")return this;t='="'+(n===!1?t:r(t))+'"'}return this.write(" "+e+t),this},attrs:function(e){return arguments.length!==1?this.attr.apply(this,arguments):e&&n(e,this.attr,this),this},t:function(t,n,r,i,s){return n||(n={}),n._tag=!0,n.invokeBody=r,i&&(n.dynamicAttributes=i),s&&e.extend(n,s),this.invokeHandler(t,n),this},c:function(e){var t=this.captureString(e);return{toString:function(){return t}}}},a.a=a.attrs,a.f=a.getFunction,a.i=a.renderTemplate,l});
define("raptor/render-context",function(e,t,n){"use strict";var r=e("raptor/strings/StringBuilder"),i=e("raptor/render-context/Context");return{createContext:function(e){return new i(e||new r)},Context:i}});
define("raptor/templating",["raptor"],function(e,t,n,r){"use strict";var i=function(e){return $rget("rhtml",e)},s={},o=Array.isArray,u=e.createError,a=t("raptor/strings/StringBuilder"),f=t("raptor/xml/utils").escapeXml,l=t("raptor/xml/utils").escapeXmlAttr,c=t("raptor/render-context"),h=c.Context,p=h.classFunc,d,v=function(e){var n=t(e),r;return n.process||n.render?r=n:(r=n.instance)||(r=n.instance=new n),r},m=function(e){return Array.isArray(e)===!0?e.length!==0:e},g={h:p,t:v,fv:function(e,t){if(!e)return;e.forEach||(e=[e]);var n=0,r=e.length,i={getLength:function(){return r},isLast:function(){return n===r-1},isFirst:function(){return n===0},getIndex:function(){return n}};for(;n<r;n++){var s=e[n];t(s||"",i)}},f:e.forEach,fl:function(e,t){e!=null&&(o(e)||(e=[e]),t(e,0,e.length))},fp:function(e,t){if(!e)return;for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])},e:function(e){return!m(e)},ne:m,x:f,xa:l,nx:function(e){return{toString:function(){return e}}}};return d={templateFunc:function(e){var t=s[e];if(!t){t=i(e),!t&&this.findTemplate&&(this.findTemplate(e),t=i(e)),t&&(t=t(g));if(!t)throw u(new Error('Template not found with name "'+e+'"'));s[e]=t}return t},render:function(e,t,n){if(!n)throw u(new Error("Context is required"));var r=this.templateFunc(e);try{r(t||{},n)}catch(i){throw u(new Error('Unable to render template with name "'+e+'". Exception: '+i),i)}},renderToString:function(e,t,n){var r=new a;if(n===undefined)this.render(e,t,new h(r));else{var i=this;n.swapWriter(r,function(){i.render(e,t,n)})}return r.toString()},unload:function(e){delete s[e]},getFunction:p,createContext:c.createContext,getHandler:v,helpers:g},d});
define.Class("raptor/templating/taglibs/widgets/WidgetTag",["raptor"],function(e,t){"use strict";var n=t("raptor/widgets");return{render:function(t,r){var i=t.jsClass,s=t.config||t._cfg,o=r.getAttributes().widgetArgs,u=t.id,a,f,l;if(!u&&t.hasOwnProperty("id"))throw e.createError('Invalid widget ID for "'+i+'"');o&&(delete r.getAttributes().widgetArgs,a=o.scope,f=o.id,l=o.events);var c=n.getWidgetsContext(r);c.beginWidget({type:i,id:u,assignedId:f,config:s,scope:a,events:l},function(e){t.invokeBody(e)})}}});
define("raptor/templating/taglibs/widgets/WidgetFunctions",function(e){"use strict";var t=e("raptor/widgets");return{widgetArgs:function(e,t,n){this.getAttributes().widgetArgs={id:e,scope:t,events:n}}}});
define("raptor/widgets/WidgetDef",["raptor"],function(e,t,n,r){"use strict";var i=function(t){this.children=[],e.extend(this,t)};return i.prototype={a:function(){},addChild:function(e){this.children.push(e)},elId:function(e){return arguments.length===0?this.id:this.id+"-"+e}},i});
define("raptor/widgets/WidgetsContext",function(e,t,n){"use strict";var r=e("raptor/widgets/WidgetDef"),i=function(e){this.context=e,this.widgets=[],this.widgetStack=[]};return i.prototype={beginWidget:function(e,t){var n=this,i=n.widgetStack,s=i.length,o=s?i[s-1]:null;e.id||(e.id=n._nextWidgetId());if(e.assignedId&&!e.scope)throw raptor.createError(new Error('Widget with an assigned ID "'+e.assignedId+'" is not scoped within another widget.'));e.parent=o;var u=new r(e);o?o.addChild(u):n.widgets.push(u),i.push(u);try{t(u)}finally{i.splice(s,1)}},hasWidgets:function(){return this.widgets.length!==0},clearWidgets:function(){this.widgets=[],this.widgetStack=[]},_nextWidgetId:function(){return"w"+this.context.uniqueId()}},i});
define("raptor/widgets",function(e,t,n){"use strict";var r=e("raptor/widgets/WidgetsContext"),i="widgets";return{getWidgetsContext:function(e){var t=e.getAttributes();return t[i]||(t[i]=new r(e))}}});
define("raptor/listeners",["raptor"],function(e,t){"use strict";var n=e.forEachEntry,r=Array.isArray,i=e.extend,s=0,o="__lstnrs",u=function(){},a,f=function(e,t){return e?t?function(){e.apply(t,arguments)}:e:u},l=function(e){var t=[],n;e._listeners.forEach(function(e){e.removed?(n=e.thisObj)&&delete n[o][e.id]:t.push(e)}),e._listeners=t,e._listeners.length||e._onEmpty()},c=function(e,t){t.removed=!0,l(e)},h=function(e,t){return function(){c(e,t)}},p=function(t){return function(r){if(!arguments.length)n(t,function(e,t){t.remove()});else{var i=t[r];if(!i)throw e.createError(new Error("Invalid message name: "+r));i.unsubscribe()}}},d=function(e,t){this.name=e,this.data=t};d.prototype={getName:function(){return this.name},getData:function(){return this.data}};var v=function(){this._listeners=[],this._onEmpty=u};v.prototype={add:function(e,t,n){var r=this,i,u={callback:e,thisObj:t,removed:!1,autoRemove:n,id:s++},a;i=u.remove=h(r,u),r._listeners.push(u);var f={remove:i};return f.unsubscribe=f.remove,t&&((a=t[o])||(a=t[o]={}),a[u.id]=f),f},publish:function(){var e=arguments,t=this;t._listeners.forEach(function(n){if(n.removed)return;n.callback.apply(n.thisObj,e),n.autoRemove&&c(t,n)})},onEmpty:function(e,t){this._onEmpty=f(e,t)},removeAll:function(){var e=this._listeners;for(var t=0;t<e.length;t++)e[t].removed=!0;l(this)}};var m=function(e,t){var n=t._allowed;if(n&&!n[e])throw new Error('Invalid message name of "'+e+'". Allowed messages: '+Object.keys(n).join(", "))},g=function(e){return function(t){var n=[e].concat(Array.prototype.slice.call(arguments));this[typeof t=="function"?"subscribe":"publish"].apply(this,n)}},y=function(){this._byName={}};return y.prototype={__observable:!0,registerMessages:function(e,t){this._allowed||(this._allowed={});for(var n=0,r=e.length;n<r;n++){var i=e[n];this._allowed[i]=!0,t&&(this[i]=g(i))}},subscribe:function(e,t,r,i){var s=this,o,u;if(typeof e=="object")return i=r,r=t,o={},n(e,function(e,t){o[e]=s.subscribe(e,t,r,i)}),u={unsubscribe:p(o)},u.remove=u.removeAll=u.unsubscribe,u;m(e,s);var a=s._byName[e];return a||(s._byName[e]=a=new v,a.onEmpty(function(){delete s._byName[e]})),a.add(t,r,i)},unsubscribeAll:function(){var e=this;n(e._byName,function(e,t){t.removeAll()}),e._byName={}},publish:function(e,t){var n;r(t)?n=t:(a.isMessage(e)?(t=e,e=t.getName()):t=a.createMessage(e,t),n=[t.data,t]),m(e,this);var i=this,s=function(e){var t=i._byName[e];if(!t)return;t.publish.apply(t,n)};s(e),s("*");var o=e.lastIndexOf(".");return o>=0&&s(e.substring(0,o+1)+"*"),t}},a={Message:d,createListeners:function(){return new v},createObservable:function(e,t){var n=new y;return e&&n.registerMessages(e,t),n},makeObservable:function(e,t,n,r){t||(t=e),t._observable||(t._observable=!0,i(t,y.prototype)),y.call(e),n&&e.registerMessages(n,r)},isObervable:function(e){return e&&e.__observable},createMessage:function(e,t){return new d(e,t)},isMessage:function(e){return e instanceof d},bind:f,unsubscribeFromAll:function(e){var t=e[o];if(t)for(var n in t)t[n].unsubscribe()}}});
define("raptor/pubsub",function(e,t,n){"use strict";var r=e("raptor/listeners"),i=define.Class({superclass:r.Message},function(){var e=function(e,t){r.Message.call(this,e,t),this.topic=e};return e.prototype={getTopic:function(){return this.topic}},e}),s=define.Class(function(){return{init:function(e){this.name=e,this.observable=r.createObservable()},publish:function(t,n){var i;return r.isMessage(t)?i=t:i=e("raptor/pubsub").createMessage(t,n),this.observable.publish(i),i},subscribe:function(e,t,n){return this.observable.subscribe(e,t,n)}}}),o={};return{channel:function(e){var t=o[e];return t||(t=new s(e),o[e]=t),t},global:function(){return this.channel("global")},publish:function(e,t){var n=this.global();n.publish.apply(n,arguments)},subscribe:function(e,t,n){var r=this.global();return r.subscribe.apply(r,arguments)},createMessage:function(e,t){return new i(e,t)}}});
define("raptor/dom",function(e){"use strict";return{forEachChildEl:function(e,t,n){this.forEachChild(e,t,n,1)},forEachChild:function(e,t,n,r){if(!e)return;var i=0,s=e.childNodes,o=s.length;for(;i<o;i++){var u=s[i];u&&(r==null||r==u.nodeType)&&t.call(n,u)}}}});
define.extend("raptor/widgets/WidgetsContext",function(e,t){"use strict";return{initWidgets:function(){var t=this.widgets,n=e("raptor/widgets");t.forEach(function(e){n.initWidget(e)}),this.clearWidgets()}}});
define.extend("raptor/widgets",function(e,t){"use strict";var n=e("raptor/logging").logger("raptor/widgets"),r={},i=e("raptor"),s=Array.isArray,o=i.createError,u=e("raptor/widgets/Widget"),a=function(e){var t={};return i.forEach(e,function(e){t[e[0]]={target:e[1],props:e[2]}},this),t},f=function(){};f.prototype={_remove:function(e,t){var n=this[t];s(n)?this[t]=n.filter(function(t){return t!==e}):delete this[t]},_add:function(e,t,n){var r=this[t];r?s(r)?r.push(e):this[t]=[r,e]:this[t]=n?[e]:e},getWidget:function(e){return this[e]},getWidgets:function(e){var t=this[e];return t?s(t)?t:[t]:[]}};var l=function(i,l,c,h,p,d,v,m){if(!e.exists(i))throw o(new Error('Unable to initialize widget of type "'+i+'". The class for the widget was not found.'));var g,y=e(i);n.debug('Creating widget of type "'+i+'" ('+l+")");if(y.initWidget)h.elId=l,h.events=d,g=y,y.onReady||(y.onReady=t.onReady);else{var b=function(){},w;b.prototype=w=y.prototype,g=new b,u.makeWidget(g,w),g.registerMessages(["beforeDestroy","destroy"],!1);var E=w.events||y.events;E&&g.registerMessages(E,!1),g._id=l,y.getName||(y.getName=function(){return i}),g.constructor||(w.constructor=y),u.legacy&&(g._parentWidget=v),d&&(g._events=a(d)),g.widgets=new f,r[l]=g;if(c&&p){g._assignedId=c,g._scope=p;var S=r[p];if(!S)throw o(new Error("Parent scope not found: "+p));var x=r[p],T=x.constructor?x.constructor.widgets||x.constructor.prototype.widgets||{}:{};x.widgets._add(g,c,s(T[c])),u.legacy&&(x[c]=g)}}return{widget:g,init:function(){var e=function(){try{g.initWidget?g.initWidget(h):y.call(g,h)}catch(e){var t='Unable to initialize widget of type "'+i+"'. Exception: "+e;if(!m)throw e;n.error(t,e)}};g.initBeforeOnDomReady===!0?e():g.onReady(e)}}};return{initWidget:function(e){var t=l(e.type,e.id,e.assignedId,e.config,e.scope?e.scope.id:null,e.events);e.widget=t.widget,e.children.length&&e.children.forEach(this.initWidget,this),t.init()},_serverInit:function(e){var t=function(e,n){if(!e)return;var r=0,i=e.length;for(;r<i;r++){var s=e[r],o=s[0],u=s[1],a=s[2]||{},f=s[3],c=s[4],h=s[5]||{},p=s.slice(6);f===0&&(f=undefined),c===0&&(c=undefined),a===0&&(a=undefined);var d=l(o,u,c,a,f,h,n,1);p&&p.length&&t(p,d.widget),d.init()}};t(e)},get:function(e){return r[e]},_remove:function(e){delete r[e]}}}),$rwidgets=function(){require("raptor/widgets")._serverInit(require("raptor").arrayFromArguments(arguments))},require("raptor/pubsub").subscribe({"dom/beforeRemove":function(e){var t=e.el,n=require("raptor/widgets").get(t.id);n&&n.destroy({removeNode:!1,recursive:!0})},"raptor/component-renderer/renderedToDOM":function(e){var t=require("raptor/widgets"),n=e.context,r=t.getWidgetsContext(n);r.initWidgets()}});
define("raptor/widgets/Widget",["raptor"],function(e,t){"use strict";var n=t("raptor/listeners"),r=t("raptor/dom"),i=function(e,s,o){var u={widget:e},a=e.getEl(),f=t("raptor/widgets"),l=e._assignedId;e.publish("beforeDestroy",u),n.unsubscribeFromAll(e),e.__destroyed=!0;if(a){if(o){var c=function(e){r.forEachChildEl(e,function(e){if(e.id){var t=f.get(e.id);t&&i(t,!1,!1)}c(e)})};c(a)}s&&a.parentNode.removeChild(a)}f._remove(e._id);if(l){var h=f.get(e._scope);h&&h.widgets._remove(e,l)}e.publish("destroy",u)},s,o=function(){};return o.makeWidget=function(e,t){if(!e._isWidget)for(var n in s)t.hasOwnProperty(n)||(t[n]=s[n])},o.prototype=s={_isWidget:!0,getObservable:function(){return this._observable||(this._observable=n.createObservable())},registerMessages:function(e,t){this.getObservable().registerMessages.apply(this,arguments)},publish:function(n,r){var i=this.getObservable();i.publish.apply(i,arguments);var s;this._events&&(s=this._events[n])&&(s.props&&(r=e.extend(r||{},s.props)),t("raptor/pubsub").publish(s.target,r))},subscribe:function(e,t,n){var r=this.getObservable();return r.subscribe.apply(r,arguments)},getElId:function(e){return e?this._id+"-"+e:this._id},getEl:function(e){return document.getElementById(this.getElId(e))},getWidget:function(e){return this.widgets.getWidget(e)},getWidgets:function(e){return this.widgets.getWidgets(e)},destroy:function(e){e=e||{},i(this,e.removeNode!==!1,e.recursive!==!1)},isDestroyed:function(){return this.__destroyed},rerender:function(n,r){var i=this.renderer,s=this.constructor.getName(),o=t("raptor/component-renderer"),u=this.getEl();if(!u)throw e.createError(new Error("Root element missing for widget of type "+s));i||(this.constructor.render?i=this.constructor:s.endsWith("Widget")&&(i=t.find(s.slice(0,-6)+"Renderer")));if(!i)throw e.createError(new Error("Renderer not found for widget "+s));return o.render(i,n,r).replace(u)}},s.on=s.subscribe,o});
define.extend("raptor/widgets",function(e){"use strict";return{onReady:function(e,t){$(function(){e.call(t)})}}});
define.extend("raptor/widgets/Widget",function(e){"use strict";var t=e("raptor"),n=/\#(\w+)( .*)?/g,r=t.global;return{$:function(e){var t=arguments;if(t.length===1){if(typeof e=="function"){var i=this;$(function(){e.apply(i,t)})}else if(typeof e=="string"){var s=n.exec(e);n.lastIndex=0;if(s!=null){var o=s[1];return s[2]==null?$(this.getEl(o)):$("#"+this.getElId(o)+s[2])}var u=this.getEl();if(!u)throw new Error("Root element is not defined for widget");if(u)return $(e,u)}}else if(t.length===2){if(typeof t[1]=="string")return $(e,this.getEl(t[1]))}else if(t.length===0)return $(this.getEl());return $.apply(r,arguments)},onReady:function(e){var t=this,n=function(){e.call(t,t)};if($.isReady)return n();$(n())}}});
define("raptor/component-renderer/RenderResult",function(e){"use strict";var t=function(e){if(typeof e=="string"){var t=e;e=document.getElementById(t);if(!e)throw raptor.createError(new Error('Target element not found: "'+t+'"'))}return e},n=function(e,t){this.html=e,this.context=t,this._node=null};return n.prototype={getWidget:function(){if(!this.widgetDefs)throw new Error("Cannot call getWidget() until after HTML fragment is added to DOM.");return this.widgetDefs.length?this.widgetDefs[0].widget:undefined},_afterInsert:function(){var t=e.find("raptor/widgets");if(t){var n=t.getWidgetsContext(this.context);this.widgetDefs=n.widgets}var r=e.find("raptor/pubsub");return r&&r.publish("raptor/component-renderer/renderedToDOM",{node:this.getNode(),context:this.context}),this},_beforeRemove:function(t){var n=e.find("raptor/pubsub");n&&n.publish("dom/beforeRemove",{el:t})},appendTo:function(e){return t(e).appendChild(this.getNode()),this._afterInsert()},replace:function(e){return e=t(e),this._beforeRemove(e),e.parentNode.replaceChild(this.getNode(),e),this._afterInsert()},replaceChildrenOf:function(n){n=t(n);var r=e.find("raptor/pubsub");return r&&e("raptor/dom").forEachChildEl(n,function(e){this._beforeRemove(e)},this),n.innerHTML="",n.appendChild(this.getNode()),this._afterInsert()},insertBefore:function(e){return e=t(e),e.parentNode.insertBefore(this.getNode(),e),this._afterInsert()},insertAfter:function(e){e=t(e);var n=e.nextSibling,r=e.parentNode;return n?e.parentNode.insertBefore(this.getNode(),n):e.parentNode.appendChild(this.getNode()),this._afterInsert()},prependTo:function(e){return e=t(e),e.insertBefore(this.getNode(),e.firstChild||null),this._afterInsert()},getNode:function(){var e=this._node,t,n;if(!e){n=document.createElement("body"),n.innerHTML=this.html;if(n.childNodes.length==1)e=n.childNodes[0];else{e=document.createDocumentFragment();while(t=n.firstChild)e.appendChild(t)}this._node=e}return e}},n});
define("raptor/component-renderer",["raptor"],function(e,t){"use strict";var n=t("raptor/render-context"),r=t("raptor/component-renderer/RenderResult");return{render:function(t,i,s){if(typeof t=="string"){var o=e.find(t);if(!o){if(!t.endsWith("Renderer")){var u=t.lastIndexOf("/");o=e.find(t+"/"+t.substring(u+1)+"Renderer")}if(!o)throw e.createError(new Error('Renderer not found with name "'+t+'"'))}t=o}var a=typeof t=="function"?t:t.render||t.process;if(!a)throw e.createError(new Error('"render" function not found in "'+t+'".'));var f,l=function(){a.call(t,i||{},s)};return s?f=s.captureString(l):(s=n.createContext(),l(),f=s.getOutput()),new r(f,s)}}});
!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(e.style[n]!==undefined)return t[n]}();return e&&{end:e}}()})}(window.jQuery),!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function s(){i.trigger("closed").remove()}var n=e(this),r=n.attr("data-target"),i;r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),i=e(r),t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(t=e.Event("close"));if(t.isDefaultPrevented())return;i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,s):s()};var r=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),s=typeof n=="object"&&n;i||r.data("button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=n,this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},to:function(t){var n=this.$element.find(".item.active"),r=n.parent().children(),i=r.index(n),s=this;if(t>r.length-1||t<0)return;return this.sliding?this.$element.one("slid",function(){s.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(r[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",a=this,f;this.sliding=!0,s&&this.pause(),i=i.length?i:this.$element.find(".item")[u](),f=e.Event("slide",{relatedTarget:i[0]});if(i.hasClass("active"))return;if(e.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(f);if(f.isDefaultPrevented())return;i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),this.$element.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger("slid")},0)})}else{this.$element.trigger(f);if(f.isDefaultPrevented())return;r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("carousel"),s=e.extend({},e.fn.carousel.defaults,typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;i||r.data("carousel",i=new t(this,s)),typeof n=="number"?i.to(n):o?i[o]():s.interval&&i.cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.carousel.data-api","[data-slide]",function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=e.extend({},i.data(),n.data());i.carousel(s),t.preventDefault()})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,r,i;if(this.transitioning)return;t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),r=this.$parent&&this.$parent.find("> .accordion-group > .in");if(r&&r.length){i=r.data("collapse");if(i&&i.transitioning)return;r.collapse("hide"),i||r.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])},hide:function(){var t;if(this.transitioning)return;t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0)},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[e!==null?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,r){var i=this,s=function(){n.type=="show"&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n);if(n.isDefaultPrevented())return;this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),s=typeof n=="object"&&n;i||r.data("collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i).data("collapse")?"toggle":n.data();n[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(i).collapse(s)})}(window.jQuery),!function(e){"use strict";function r(){e(t).each(function(){i(e(this)).removeClass("open")})}function i(t){var n=t.attr("data-target"),r;return n||(n=t.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),r=e(n),r.length||(r=t.parent()),r}var t="[data-toggle=dropdown]",n=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(t){var n=e(this),s,o;if(n.is(".disabled, :disabled"))return;return s=i(n),o=s.hasClass("open"),r(),o||s.toggleClass("open"),n.focus(),!1},keydown:function(t){var n,r,s,o,u,a;if(!/(38|40|27)/.test(t.keyCode))return;n=e(this),t.preventDefault(),t.stopPropagation();if(n.is(".disabled, :disabled"))return;o=i(n),u=o.hasClass("open");if(!u||u&&t.keyCode==27)return n.click();r=e("[role=menu] li:not(.divider):visible a",o);if(!r.length)return;a=r.index(r.filter(":focus")),t.keyCode==38&&a>0&&a--,t.keyCode==40&&a<r.length-1&&a++,~a||(a=0),r.eq(a).focus()}};var s=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var r=e(this),i=r.data("dropdown");i||r.data("dropdown",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.dropdown.Constructor=n,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.dropdown.data-api touchstart.dropdown.data-api",r).on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("touchstart.dropdown.data-api",".dropdown-menu",function(e){e.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",t,n.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",t+", [role=menu]",n.prototype.keydown)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented())return;this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")})},hide:function(t){t&&t.preventDefault();var n=this;t=e.Event("hide"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]!==e.target&&!t.$element.has(e.target).length&&t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){t.which==27&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(e){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.$backdrop.click(this.options.backdrop=="static"?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(this.removeBackdrop,this)):this.removeBackdrop()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),typeof n=="object"&&n);i||r.data("modal",i=new t(this,s)),typeof n=="string"?i[n]():s.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(s).one("hide",function(){n.focus()})})}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,this.options.trigger=="click"?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):this.options.trigger!="manual"&&(i=this.options.trigger=="hover"?"mouseenter":"focus",s=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var e,t,n,r,i,s,o;if(this.hasContent()&&this.enabled){e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),s=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(s),e.detach().css({top:0,left:0,display:"block"}).insertAfter(this.$element),n=this.getPosition(t),r=e[0].offsetWidth,i=e[0].offsetHeight;switch(t?s.split(" ")[1]:s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}e.offset(o).addClass(s).addClass("in")}},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function r(){var t=setTimeout(function(){n.off(e.support.transition.end).detach()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.detach()})}var t=this,n=this.tip();return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r():n.detach(),this},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);n[n.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-content")||(typeof n.content=="function"?n.content.call(t[0]):n.content),e},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s=typeof n=="object"&&n;i||r.data("popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"></div></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),!function(e){"use strict";function t(t,n){var r=e.proxy(this.process,this),i=e(t).is("body")?e(window):e(t),s;this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=i.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(s=e(t).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t=this,n;this.offsets=e([]),this.targets=e([]),n=this.$body.find(this.selector).map(function(){var n=e(this),r=n.data("target")||n.attr("href"),i=/^#\w/.test(r)&&e(r);return i&&i.length&&[[i.position().top+t.$scrollElement.scrollTop(),r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},process:function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n)return s!=(o=i.last()[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},activate:function(t){var n,r;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(r).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),s=typeof n=="object"&&n;i||r.data("scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.attr("data-target"),i,s,o;r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;i=n.find(".active:last a")[0],o=e.Event("show",{relatedTarget:i}),t.trigger(o);if(o.isDefaultPrevented())return;s=e(r),this.activate(t.parent("li"),n),this.activate(s,s.parent(),function(){t.trigger({type:"shown",relatedTarget:i})})},activate:function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var i=n.find("> .active"),s=r&&e.support.transition&&i.hasClass("fade");s?i.one(e.support.transition.end,o):o(),i.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("tab");i||r.data("tab",i=new t(this)),typeof n=="string"&&i[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift())i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):t.push(i);return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).attr("data-value",r),t.find("a").html(n.highlighter(r)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0])),r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t=typeof this.$element[e]=="function"),t},move:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){if(this.suppressKeyPressRepeat)return;this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},blur:function(e){var t=this;setTimeout(function(){t.hide()},150)},click:function(e){e.stopPropagation(),e.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s=typeof n=="object"&&n;i||r.data("typeahead",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;t.preventDefault(),n.typeahead(n.data())})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var t=e(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),i=this.options.offset,s=i.bottom,o=i.top,u="affix affix-top affix-bottom",a;typeof i!="object"&&(s=o=i),typeof o=="function"&&(o=i.top()),typeof s=="function"&&(s=i.bottom()),a=this.unpin!=null&&n+this.unpin<=r.top?!1:s!=null&&r.top+this.$element.height()>=t-s?"bottom":o!=null&&n<=o?"top":!1;if(this.affixed===a)return;this.affixed=a,this.unpin=a=="bottom"?r.top-n:null,this.$element.removeClass(u).addClass("affix"+(a?"-"+a:""))};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("affix"),s=typeof n=="object"&&n;i||r.data("affix",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery);
define("ui/buttons/Button/ButtonWidget",["raptor"],function(e,t){var n=function(e){var t=this;this.toggled=!1,this.$button=this.$(),this._toggle=e.toggle,e.toggled&&this.toggle(),this.$().click(function(){t.publish("click",{button:this}),t._toggle&&t.toggle()})};return n.events=["click","toggle"],n.prototype={toggle:function(){this.toggled=!this.toggled,this.$button.button("toggle"),this.publish("toggle",{button:this})}},n});
define("ui/buttons/Button/ButtonRenderer",["raptor"],function(e,t){return{render:function(n,r){var i={},s=["btn"];n.variant&&s.push("btn-"+n.variant),n.size&&s.push("btn-"+n.size);if(n.dynamicAttributes){n.dynamicAttributes.href;var o=n.dynamicAttributes["class"];o&&(delete n.dynamicAttributes["class"],s.push(o)),e.extend(i,n.dynamicAttributes)}i["class"]=s.join(" ");var u={};n.toggle&&(u.toggle=!0),n.toggled&&(u.toggled=!0),t("raptor/templating").render("ui/buttons/Button",{id:n.id||"btn"+r.uniqueId(),tag:n,label:n.label,rootAttrs:i,widgetConfig:u,isDropdown:n.dropdown===!0,href:n.href},r)}}});
$rset("rhtml","ui/buttons/Button",function(e){var t=e.e,n=e.ne,r=e.x,i=e.t,s=i("raptor/templating/taglibs/widgets/WidgetTag");return function(e,t){function f(){return t.c(function(){u?t.w(r(u)):i.invokeBody&&t.w(i.invokeBody()),e.isDropdown&&t.w('&nbsp; <span class="caret"></span>')})}var n=e.id,i=e.tag,o=e.rootAttrs,u=e.label,a=e.href;a?t.t(s,{jsClass:"ui/buttons/Button/ButtonWidget",config:undefined,id:n,_cfg:e.widgetConfig},function(e){t.w("<a").a("id",n).a("href",a).a(o).w(">").w(f()).w("</a>")}):t.t(s,{jsClass:"ui/buttons/Button/ButtonWidget",config:undefined,id:n,_cfg:e.widgetConfig},function(e){t.w("<button").a("id",n).a(o).w(">").w(f()).w("</button>")})}});
define("ui/containers/Tabs/TabsWidget",function(e){var t=function(e){};return t.events=["show","shown"],t.prototype={},t});
define("ui/containers/Tabs/TabsRenderer",function(e){var t=e("raptor/templating");return{render:function(e,n){var r=e.tabs,i=!1,s=e.id||"tabs"+n.uniqueId();r||(r=[],e.invokeBody({addTab:function(e){r.push(e)}})),r.forEach(function(e,t){e.active&&(i=!0),e.id||(e.id=s+"-tab"+t)}),!i&&r.length&&(r[0].active=!0),t.render("ui/containers/Tabs",{id:s,tabs:r},n)}}});
define("ui/containers/Tabs/TabTag",function(e){return{render:function(e,t){e._tabs.addTab(e)}}});
$rset("rhtml","ui/containers/Tabs",function(e){var t=e.e,n=e.ne,r=e.t,i=r("raptor/templating/taglibs/widgets/WidgetTag"),s=e.f,o=e.xa,u=e.x;return function(e,t){var n=e.id,r=e.tabs;t.t(i,{jsClass:"ui/containers/Tabs/TabsWidget",config:undefined,id:n,_cfg:e.widgetConfig},function(e){t.w("<div").a("id",n).w(' class="tabs"><ul class="nav nav-tabs">'),s(r,function(e){t.w("<li").a("class",e.active?"active":"").w('><a href="#').w(o(e.id)).w('" data-toggle="tab">').w(u(e.title)).w("</a></li>")}),t.w('</ul><div class="tab-content">'),s(r,function(e){t.w("<div").a("id",e.id).w(' class="tab-pane').w(o(e.active?" active":"")).w('">'),e.content?t.w(u(e.content)):e.invokeBody(),t.w("</div>")}),t.w("</div></div>")})}});
define("ui/demo/ComponentsDemo/ComponentsDemoWidget",function(e){var t=e("raptor/pubsub"),n=e("raptor/templating"),r=e("raptor/component-renderer"),i=function(e){var i=this,s=0,o=0;t.subscribe({sayHello:function(e){var t=e.message;alert(t)},renderNewButton:function(e){r.render("ui/buttons/Button/ButtonRenderer",{variant:"success",label:"New Button "+ ++s}).appendTo(this.getEl("renderTarget"))},renderNewTabs:function(){r.render("ui/containers/Tabs/TabsRenderer",{tabs:[{title:"Tab 1",content:"Content for Tab 1"},{title:"Tab 2",content:"Content for Tab 2"}]}).appendTo(this.getEl("renderTarget"))},renderTemplate:function(){r.render(function(e,t){n.render("ui/demo/ComponentsDemo/test-template",{},t)}).appendTo(this.getEl("renderTarget"))}},this),this.widgets.submitButton.on("click",function(){alert('You clicked the "Submit" button')}),this.widgets.deleteButton.on("click",function(){alert('You clicked the "Delete" button')})};return i.widgets={},i.prototype={},i});
$rset("rhtml","ui/demo/ComponentsDemo/test-template",function(e){var t=e.e,n=e.ne,r="raptor/templating/taglibs/widgets/WidgetFunctions",i=e.t,s=i("ui/buttons/Button/ButtonRenderer"),o=i("ui/containers/Tabs/TabsRenderer"),u=i("ui/containers/Tabs/TabTag");return function(e,t){var n=t.f(r,"widgetArgs");t.w('<div class="test-template"><h2>Buttons from template</h2>').t(s,{label:"Say 'Hello World'",variant:"primary",widgetArgs:n(null,null,[["click","sayHello",{message:"Hello World"}]])}).t(s,{label:"Say 'Hello Universe'",variant:"primary",widgetArgs:n(null,null,[["click","sayHello",{message:"Hello Universe"}]])}).w(" <h2>Tabs from template</h2>").t(o,{},function(e){t.t(u,{title:"Home",_tabs:e},function(){t.w("Content for the Home tab")}).t(u,{title:"Profile",_tabs:e},function(){t.w("Content for the Profile tab")})}).w("</div>")}});