define.Class("ui/search/SearchResultsContainer/SearchResultsContainerWidget",function(e){var t=e("raptor/pubsub"),n=e("ui/search/SearchResults/SearchResultsRenderer"),r=e("raptor/component-renderer");return{init:function(e){var n=this;this.view="gallery",t.subscribe({searchBegin:function(){this.$("#resultsContainer").fadeOut(),this.$("#searching").fadeIn()},searchEnd:function(){this.$("#searching").fadeOut()},searchResults:function(e){this.showSearchResults(e.data.items)}},this),this.$("#viewIconList").click(function(){n.setView("list")}),this.$("#viewIconGallery").click(function(){n.setView("gallery")})},setView:function(e){if(this.view===e)return;this.view=e,t.publish("viewChange",{view:e}),this.$("#viewIconList").toggleClass("view-icon-selected"),this.$("#viewIconGallery").toggleClass("view-icon-selected")},showSearchResults:function(e){this.$("#searching").fadeOut(),this.$("#count").text(e.length),r.render(n,{searchResultItems:e,view:this.view}).replaceChildrenOf(this.getEl("resultsTarget")),this.$("#resultsContainer").fadeIn()}}});